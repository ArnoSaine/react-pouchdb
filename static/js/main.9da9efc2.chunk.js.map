{"version":3,"sources":["../../browser/es/attachmentsAsUint8Arrays.js","Container/styles.module.css","../../browser/es/utils/createStore.js","../../browser/es/DBContext.js","../../browser/es/createPouchDB.js","../../browser/es/useDB.js","../../browser/es/renderProps.js","../../browser/es/api/Find.js","../../browser/es/api/Get.js","../../browser/es/utils/reverseArgs.js","../../browser/es/utils/processQueue.js","../../browser/es/changes.js","../../browser/es/api/useFind.js","../../browser/es/api/useGet.js","../../browser/es/createSubscription.js","../../browser/es/getSubscription.js","../../browser/es/useGetSubscription.js","../../browser/es/createListenHook.js","../../browser/es/useListen.js","../../browser/es/utils/useSubscriptionImmediateSuspense.js","../../browser/es/debounceSetValue.js","../../browser/es/handleError.js","../../browser/es/PouchDB.js","../../browser/es/index.js","../../browser/es/withDB.js","Container/Aside.js","Container/index.js","Footer/ClearCompleted.js","Footer/Counter.js","Footer/Filter.js","Footer/index.js","Input.js","List/Item.js","List/Docs.js","List/index.js","ToggleAll.js","App.js","serviceWorker.js","index.js"],"names":["blobToUint8Array","blob","Promise","resolve","reader","FileReader","onload","Uint8Array","result","readAsArrayBuffer","global","Buffer","x","_attachmentsAsUint8Arrays","mark","_callee","attachments","_i","_Object$entries","_Object$entries$_i","name","data","wrap","_context","prev","next","Object","entries","length","sent","abrupt","stop","_x","apply","this","arguments","module","exports","createStore","root","Map","path","create","remove","_ref","onCleanup","value","parent","chain","map","key","item","get","removeChild","_chain$pop","pop","delete","size","pathCopy","lastKey","leaf","reduce","call","_create","_create2","referenceCounter","context","Provider","Consumer","createPouchDB","synchronousAPITemporarySubscriptionCleanupDelay","debounceUpdatesWait","debounceUpdatesMaxWait","maxListeners","options","db","setMaxListeners","assign","reactPouchDBOptions","store","useDBOptions","optionsObject","optionsMemoized","dependencies","_useMemo","undefined","close","_useMemo2","cleanup","useDB","any","_ref2","_dbInstance","_ref$callee","callee","_ref$example","example","dbInstance","dbOptions","dbContext","DBContext","Error","concat","useAPI","useAPIAndHandleReturnValue","_useAPI","valueToProps","_children$prototype","children","otherProps","props","error","prototype","isReactComponent","only","renderProps","docs","doc","_len","args","Array","_key","fn","reverse","processing","_queued","_callee2","_this","_args2","_context2","changes","handleChange","_store","eventEmitter","cancel","_store2","handleChangeQueued","processQueue","on","removeListener","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","plugin","live","include_docs","since","return_docs","ALLOWED_LIVE_OPTIONS","nextState","_x2","_nextState","_callee3","binary","_context4","_deleted","t1","t2","t3","attachmentsAsUint8Arrays","_attachments","t4","t5","t0","createSubscription","_subscribe","subscribing","updaters","Set","getCurrentValue","subscribe","update","add","nextValue","updater","unsubscribe","useGetSubscription","getSubscription","subscription","cleanupDelay","setTimeout","useSubscriptionImmediateSuspense","_useGetSubscription","setValue","_setValue","_ref$reactPouchDBOpti","_ref$reactPouchDBOpti2","wait","_ref$reactPouchDBOpti3","maxWait","leading","trailing","debounceSetValue","handleError","useListen","PouchDB","createElement","Component","ref","displayName","WrappedComponent","selector","limit","skip","sort","_context3","createIndex","index","fields","field","find","_ref4","_ref3","_docs","deleted","found","_ref6","_ref6$docs","replacementDoc","sortOrders","sortedIndex","_ref8","_ref8$docs","lastDoc","_ref9","_ref9$docs","firstDoc","findIndex","_ref5","_id","splice","prop","a","b","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","_step$value","order","err","return","_ref7","id","otherOptions","optionsWithAttachmentAndBinaryOption","changesOptions","doc_ids","status","every","option","includes","_x4","_x3","className","href","url","text","styles","Aside","ClearCompleted","useFind","completed","bulkDocs","onClick","type","Counter","$ne","Filter","title","activeClassName","exact","replace","to","Footer","Input","post","autoFocus","onKeyDown","keyCode","trim","timestamp","Date","now","placeholder","Item","put","useState","focus","setFocus","isEditing","setIsEditing","inputRef","useRef","handleSave","current","useEffect","classNames","onDoubleClick","checked","onChange","defaultValue","onBlur","filterByCompletedField","active","Docs","match","params","$gte","List","component","ToggleAll","htmlFor","basename","homepage","App","fallback","Container","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9da9efc2.chunk.js","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\n\nvar blobToUint8Array = function blobToUint8Array(blob) {\n  return new Promise(function (resolve) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(new Uint8Array(reader.result));\n    };\n\n    reader.readAsArrayBuffer(blob);\n  });\n};\n\nexport default (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === 'object' && global.Buffer ? function (x) {\n  return x;\n} :\n/*#__PURE__*/\nfunction () {\n  var _attachmentsAsUint8Arrays = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(attachments) {\n    var result, _i, _Object$entries, _Object$entries$_i, name, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            result = {};\n            _i = 0, _Object$entries = Object.entries(attachments);\n\n          case 2:\n            if (!(_i < _Object$entries.length)) {\n              _context.next = 10;\n              break;\n            }\n\n            _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), name = _Object$entries$_i[0], data = _Object$entries$_i[1].data;\n            _context.next = 6;\n            return blobToUint8Array(data);\n\n          case 6:\n            result[name] = _context.sent;\n\n          case 7:\n            _i++;\n            _context.next = 2;\n            break;\n\n          case 10:\n            return _context.abrupt(\"return\", result);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  function attachmentsAsUint8Arrays(_x) {\n    return _attachmentsAsUint8Arrays.apply(this, arguments);\n  }\n\n  return attachmentsAsUint8Arrays;\n}();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"learn-bar\":\"styles_learn-bar__3daVq\"};","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport get from '@postinumero/map-get-with-default';\nexport default function createStore() {\n  var root = new Map();\n  return function (path, create) {\n    function remove(_ref) {\n      var onCleanup = _ref.onCleanup,\n          value = _ref.value;\n      onCleanup === null || onCleanup === void 0 ? void 0 : onCleanup(value);\n      var parent = root;\n      var chain = path.map(function (key) {\n        var item = {\n          parent: parent,\n          key: key\n        };\n        parent = parent.get(key);\n        return item;\n      });\n\n      (function removeChild() {\n        var _chain$pop = chain.pop(),\n            parent = _chain$pop.parent,\n            key = _chain$pop.key;\n\n        parent.delete(key);\n\n        if (!parent.size && chain.length) {\n          removeChild();\n        }\n      })();\n    }\n\n    var pathCopy = _toConsumableArray(path);\n\n    var lastKey = pathCopy.pop();\n    var leaf = pathCopy.reduce(function (parent, key) {\n      return get.call(parent, key, function () {\n        return new Map();\n      });\n    }, root);\n    var item = get.call(leaf, lastKey, function () {\n      var _create = create(function () {\n        return remove(item);\n      }),\n          _create2 = _slicedToArray(_create, 2),\n          value = _create2[0],\n          onCleanup = _create2[1];\n\n      var item = {\n        value: value,\n        onCleanup: onCleanup,\n        referenceCounter: 0\n      };\n      return item;\n    });\n    item.referenceCounter = item.referenceCounter + 1;\n    return [item.value, function cleanup() {\n      item.referenceCounter = item.referenceCounter - 1;\n\n      if (!item.referenceCounter) {\n        remove(item);\n      }\n    }];\n  };\n}","import { createContext } from 'react';\nvar context = createContext();\nexport default context;\nvar Consumer = context.Consumer,\n    Provider = context.Provider;\nexport { Consumer, Provider };","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport PouchDB from \"pouchdb-browser\";\nexport default function createPouchDB(_ref) {\n  var synchronousAPITemporarySubscriptionCleanupDelay = _ref.synchronousAPITemporarySubscriptionCleanupDelay,\n      debounceUpdatesWait = _ref.debounceUpdatesWait,\n      debounceUpdatesMaxWait = _ref.debounceUpdatesMaxWait,\n      maxListeners = _ref.maxListeners,\n      options = _objectWithoutProperties(_ref, [\"synchronousAPITemporarySubscriptionCleanupDelay\", \"debounceUpdatesWait\", \"debounceUpdatesMaxWait\", \"maxListeners\"]);\n\n  var db = new PouchDB( // PouchDB constructor modifies the options object. Make sure options is a\n  // copy so the original object remains untouched.\n  options);\n\n  if (maxListeners) {\n    db.setMaxListeners(maxListeners);\n  }\n\n  return Object.assign(db, {\n    reactPouchDBOptions: {\n      synchronousAPITemporarySubscriptionCleanupDelay: synchronousAPITemporarySubscriptionCleanupDelay,\n      debounceUpdatesWait: debounceUpdatesWait,\n      debounceUpdatesMaxWait: debounceUpdatesMaxWait\n    }\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useContext, useMemo, useEffect } from 'react';\nimport PouchDB from \"pouchdb-browser\";\nimport stringify from 'fast-json-stable-stringify';\nimport createStore from './utils/createStore';\nimport DBContext from './DBContext';\nimport createPouchDB from './createPouchDB';\nvar store = createStore();\nexport function useDBOptions(options) {\n  var optionsObject = typeof options === 'string' ? {\n    name: options\n  } : options;\n  var key = stringify(optionsObject);\n  var optionsMemoized = useMemo(function () {\n    return optionsObject;\n  }, [key]);\n  var dependencies = [optionsMemoized];\n\n  var _useMemo = useMemo(function () {\n    return key === undefined ? [] : store([key], function () {\n      return [optionsMemoized ? createPouchDB(optionsMemoized) : undefined, function (value) {\n        value === null || value === void 0 ? void 0 : value.close();\n      }];\n    });\n  }, dependencies),\n      _useMemo2 = _slicedToArray(_useMemo, 2),\n      value = _useMemo2[0],\n      cleanup = _useMemo2[1];\n\n  useEffect(function () {\n    return cleanup;\n  }, dependencies);\n  return value;\n}\nexport function useDBContext() {\n  return useContext(DBContext);\n}\nexport default function useDB(any) {\n  var _ref2, _dbInstance;\n\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$callee = _ref.callee,\n      callee = _ref$callee === void 0 ? 'useDB' : _ref$callee,\n      _ref$example = _ref.example,\n      example = _ref$example === void 0 ? 'useDB(options)' : _ref$example;\n\n  var dbInstance = any instanceof PouchDB ? any : undefined;\n  var options = dbInstance ? undefined : any;\n  var dbOptions = useDBOptions(options);\n  var dbContext = useDBContext();\n  var db = (_ref2 = (_dbInstance = dbInstance) !== null && _dbInstance !== void 0 ? _dbInstance : dbOptions) !== null && _ref2 !== void 0 ? _ref2 : dbContext;\n\n  if (!db) {\n    throw new Error(callee ? \"`\".concat(callee, \"` was called without `db` and database is not in context. Provide database using <PouchDB> or `\").concat(example, \"`\") : 'Database is not in context. Provide database using <PouchDB>');\n  }\n\n  return db;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { Children, cloneElement, createElement } from 'react';\nimport useDB from './useDB';\nexport default (function (valueToProps, error) {\n  return function (useAPI) {\n    var useAPIAndHandleReturnValue = function useAPIAndHandleReturnValue() {\n      var _useAPI;\n\n      return _useAPI = useAPI.apply(void 0, arguments), valueToProps(_useAPI);\n    };\n\n    return function useRenderProps(_ref) {\n      var db = _ref.db,\n          children = _ref.children,\n          otherProps = _objectWithoutProperties(_ref, [\"db\", \"children\"]);\n\n      var props = {\n        db: useDB(db, error)\n      };\n      Object.assign(props, db ? useAPIAndHandleReturnValue(db, otherProps) : useAPIAndHandleReturnValue(otherProps));\n\n      if (typeof children === 'function') {\n        var _children$prototype;\n\n        return ((_children$prototype = children.prototype) === null || _children$prototype === void 0 ? void 0 : _children$prototype.isReactComponent) ? createElement(children, props) : children(props);\n      }\n\n      return cloneElement(Children.only(children), props);\n    };\n  };\n});","import renderProps from '../renderProps';\nexport default renderProps(function (docs) {\n  return {\n    docs: docs\n  };\n}, {\n  callee: '<Find>',\n  example: '<Find db={name|options} ... />'\n});","import renderProps from '../renderProps';\nexport default renderProps(function (doc) {\n  return {\n    doc: doc\n  };\n}, {\n  callee: '<Get>',\n  example: '<Get db={name|options} ... />'\n});","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nexport default (function (fn) {\n  return function reverseArgs() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return fn.call.apply(fn, [this].concat(_toConsumableArray(args.reverse())));\n  };\n});","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nexport default (function (fn) {\n  var processing;\n  return (\n    /*#__PURE__*/\n    function () {\n      var _queued = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var _len,\n            args,\n            _key,\n            _args2 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                  args[_key] = _args2[_key];\n                } // 2.b. Overwrite current processing indicator with a promise that resolves after current processing has completed\n\n\n                processing = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee() {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return processing;\n\n                        case 2:\n                          return _context.abrupt(\"return\", fn.call.apply(fn, [_this].concat(args)));\n\n                        case 3:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }))(); // 3. Return promise that resolves to response from fn call with current args\n\n                return _context2.abrupt(\"return\", processing);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function queued() {\n        return _queued.apply(this, arguments);\n      }\n\n      return queued;\n    }()\n  );\n});","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport createStore from './utils/createStore';\nimport processQueue from './utils/processQueue';\nvar store = createStore();\nexport default function changes(options, handleChange) {\n  var _this = this;\n\n  var _store = store([this, options], function () {\n    var eventEmitter = _this.changes(options);\n\n    return [eventEmitter, function (eventEmitter) {\n      eventEmitter.cancel();\n    }];\n  }),\n      _store2 = _slicedToArray(_store, 2),\n      eventEmitter = _store2[0],\n      cleanup = _store2[1];\n\n  var handleChangeQueued = processQueue(handleChange);\n  eventEmitter.on('change', handleChangeQueued);\n  return function cancel() {\n    eventEmitter.removeListener('change', handleChangeQueued);\n    cleanup();\n  };\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport PouchDB from \"pouchdb-browser\";\nimport find from 'pouchdb-find';\nimport { collate } from 'pouchdb-collate';\nimport { matchesSelector } from 'pouchdb-selector-core';\nimport reverseArgs from '../utils/reverseArgs';\nimport changes from '../changes';\nimport useDB from '../useDB';\nPouchDB.plugin(find);\nvar changesOptions = {\n  live: true,\n  include_docs: true,\n  since: 'now',\n  // Documents are kept in memory. 'complete' event can return an empty array.\n  return_docs: false\n};\nexport default (function (useListen) {\n  return reverseArgs(function useFind(options, db) {\n    db = useDB(db, {\n      callee: 'useFind',\n      example: 'useFind(db, options)'\n    });\n    var selector = options.selector,\n        limit = options.limit,\n        skip = options.skip,\n        sort = options.sort;\n    return useListen(db, options,\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(setValue) {\n        var _context;\n\n        var _ref2, docs, update;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!sort) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _context3.next = 3;\n                return db.createIndex({\n                  index: {\n                    fields: sort.map(function (field) {\n                      return _typeof(field) === 'object' ? Object.keys(field)[0] : field;\n                    })\n                  }\n                });\n\n              case 3:\n                _context3.next = 5;\n                return db.find(options);\n\n              case 5:\n                _ref2 = _context3.sent;\n                docs = _ref2.docs;\n\n                update = function update() {\n                  return setValue(_toConsumableArray(docs));\n                };\n\n                update(); // To find deleted and other non-matching documents, listen all changes and use selector in 'change' event.\n\n                return _context3.abrupt(\"return\", (_context = db, changes).call(_context, changesOptions,\n                /*#__PURE__*/\n                //\n                function () {\n                  var _ref4 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee(_ref3) {\n                    var _docs;\n\n                    var deleted, doc, index, found, _docs2, length, _ref6, _ref6$docs, replacementDoc, sortOrders, sortedIndex, _ref8, _ref8$docs, lastDoc, _ref9, _ref9$docs, firstDoc;\n\n                    return _regeneratorRuntime.wrap(function _callee$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            deleted = _ref3.deleted, doc = _ref3.doc;\n                            index = (_docs = docs) === null || _docs === void 0 ? void 0 : _docs.findIndex(function (_ref5) {\n                              var _id = _ref5._id;\n                              return doc._id === _id;\n                            });\n                            found = index !== -1; // Document was deleted or it does not match the selector?\n\n                            if (!(deleted || selector && !matchesSelector(doc, selector))) {\n                              _context2.next = 17;\n                              break;\n                            }\n\n                            if (!found) {\n                              _context2.next = 15;\n                              break;\n                            } // Remove.\n\n\n                            docs.splice(index, 1);\n                            _docs2 = docs, length = _docs2.length; // At the limit?\n\n                            if (!(length + 1 === limit)) {\n                              _context2.next = 14;\n                              break;\n                            }\n\n                            _context2.next = 10;\n                            return db.find(_objectSpread({}, options, {\n                              limit: 1,\n                              skip: (options.skip || 0) + length\n                            }));\n\n                          case 10:\n                            _ref6 = _context2.sent;\n                            _ref6$docs = _slicedToArray(_ref6.docs, 1);\n                            replacementDoc = _ref6$docs[0];\n\n                            if (replacementDoc) {\n                              docs.push(replacementDoc);\n                            }\n\n                          case 14:\n                            update();\n\n                          case 15:\n                            _context2.next = 36;\n                            break;\n\n                          case 17:\n                            if (found) {\n                              // Update.\n                              docs[index] = doc;\n                            } else {\n                              // Create.\n                              if (!docs) {\n                                docs = [];\n                              }\n\n                              docs.push(doc);\n                            }\n\n                            if (sort) {\n                              sortOrders = sort.map(function (prop) {\n                                return _typeof(prop) === 'object' ? Object.entries(prop)[0] : // Default sort order is 'asc'\n                                [prop, 'asc'];\n                              });\n                              docs.sort(function (a, b) {\n                                var _iteratorNormalCompletion = true;\n                                var _didIteratorError = false;\n                                var _iteratorError = undefined;\n\n                                try {\n                                  for (var _iterator = sortOrders[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                    var _step$value = _slicedToArray(_step.value, 2),\n                                        prop = _step$value[0],\n                                        order = _step$value[1];\n\n                                    var result = collate(a[prop], b[prop]);\n\n                                    if (result !== 0) {\n                                      return order === 'asc' ? result : -result;\n                                    }\n                                  }\n                                } catch (err) {\n                                  _didIteratorError = true;\n                                  _iteratorError = err;\n                                } finally {\n                                  try {\n                                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                                      _iterator.return();\n                                    }\n                                  } finally {\n                                    if (_didIteratorError) {\n                                      throw _iteratorError;\n                                    }\n                                  }\n                                }\n\n                                return 0;\n                              });\n                            }\n\n                            sortedIndex = docs.findIndex(function (_ref7) {\n                              var _id = _ref7._id;\n                              return doc._id === _id;\n                            }); // Document update, new place is supposed to be last, `limit` option is set and limit was reached?\n\n                            if (!(found && sortedIndex + 1 === limit)) {\n                              _context2.next = 27;\n                              break;\n                            }\n\n                            _context2.next = 23;\n                            return db.find(_objectSpread({}, options, {\n                              limit: 1,\n                              skip: (options.skip || 0) + sortedIndex\n                            }));\n\n                          case 23:\n                            _ref8 = _context2.sent;\n                            _ref8$docs = _slicedToArray(_ref8.docs, 1);\n                            lastDoc = _ref8$docs[0];\n\n                            if ((lastDoc === null || lastDoc === void 0 ? void 0 : lastDoc._id) !== doc._id) {\n                              docs[sortedIndex] = lastDoc;\n                            }\n\n                          case 27:\n                            if (!(skip && sortedIndex === 0)) {\n                              _context2.next = 34;\n                              break;\n                            }\n\n                            _context2.next = 30;\n                            return db.find(_objectSpread({}, options, {\n                              limit: 1\n                            }));\n\n                          case 30:\n                            _ref9 = _context2.sent;\n                            _ref9$docs = _slicedToArray(_ref9.docs, 1);\n                            firstDoc = _ref9$docs[0];\n\n                            if ((firstDoc === null || firstDoc === void 0 ? void 0 : firstDoc._id) !== doc._id) {\n                              docs[0] = firstDoc;\n                            }\n\n                          case 34:\n                            if (docs.length > limit) {\n                              docs.splice(limit);\n                            }\n\n                            update();\n\n                          case 36:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x2) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }()));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  });\n});","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { useMemo } from 'react';\nimport stringify from 'fast-json-stable-stringify';\nimport reverseArgs from '../utils/reverseArgs';\nimport attachmentsAsUint8Arrays from '../attachmentsAsUint8Arrays';\nimport changes from '../changes';\nimport useDB from '../useDB';\nvar UINT8ARRAY = 'u8a';\nvar ALLOWED_LIVE_OPTIONS = ['attachments', 'ajax', 'binary', 'id'];\n\nfunction nextState(_x, _x2) {\n  return _nextState.apply(this, arguments);\n}\n\nfunction _nextState() {\n  _nextState = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(binary, doc) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!(binary && doc && !doc._deleted)) {\n              _context4.next = 11;\n              break;\n            }\n\n            _context4.t1 = _objectSpread;\n            _context4.t2 = {};\n            _context4.t3 = doc;\n            _context4.next = 6;\n            return attachmentsAsUint8Arrays(doc._attachments);\n\n          case 6:\n            _context4.t4 = _context4.sent;\n            _context4.t5 = {\n              _attachments: _context4.t4\n            };\n            _context4.t0 = (0, _context4.t1)(_context4.t2, _context4.t3, _context4.t5);\n            _context4.next = 12;\n            break;\n\n          case 11:\n            _context4.t0 = doc;\n\n          case 12:\n            return _context4.abrupt(\"return\", _context4.t0);\n\n          case 13:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _nextState.apply(this, arguments);\n}\n\nexport default (function (useListen) {\n  return reverseArgs(function useGet(options, db) {\n    db = useDB(db, {\n      callee: 'useGet',\n      example: 'useGet(db, options)'\n    });\n\n    var id = options.id,\n        attachments = options.attachments,\n        otherOptions = _objectWithoutProperties(options, [\"id\", \"attachments\"]);\n\n    var binary = attachments === UINT8ARRAY;\n    var optionsWithAttachmentAndBinaryOption = useMemo(function () {\n      return _objectSpread({\n        binary: binary\n      }, otherOptions, {\n        attachments: !!attachments\n      });\n    }, [binary, stringify(otherOptions), !!attachments]);\n    var changesOptions = useMemo(function () {\n      return _objectSpread({}, optionsWithAttachmentAndBinaryOption, {\n        live: true,\n        include_docs: true,\n        since: 'now',\n        doc_ids: [id]\n      });\n    }, [optionsWithAttachmentAndBinaryOption, id]);\n    return useListen(db, options,\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(setValue) {\n        var _context;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.t0 = setValue;\n                _context3.t1 = nextState;\n                _context3.t2 = binary;\n                _context3.next = 6;\n                return db.get(id, optionsWithAttachmentAndBinaryOption);\n\n              case 6:\n                _context3.t3 = _context3.sent;\n                _context3.next = 9;\n                return (0, _context3.t1)(_context3.t2, _context3.t3);\n\n              case 9:\n                _context3.t4 = _context3.sent;\n                (0, _context3.t0)(_context3.t4);\n                _context3.next = 18;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t5 = _context3[\"catch\"](0);\n\n                if (!(_context3.t5.status !== 404)) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                throw _context3.t5;\n\n              case 17:\n                setValue(null);\n\n              case 18:\n                if (!Object.keys(options).every(function (option) {\n                  return ALLOWED_LIVE_OPTIONS.includes(option);\n                })) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", (_context = db, changes).call(_context, changesOptions,\n                /*#__PURE__*/\n                function () {\n                  var _ref3 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee(_ref2) {\n                    var doc;\n                    return _regeneratorRuntime.wrap(function _callee$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            doc = _ref2.doc;\n                            _context2.t0 = setValue;\n                            _context2.next = 4;\n                            return nextState(binary, doc);\n\n                          case 4:\n                            _context2.t1 = _context2.sent;\n                            (0, _context2.t0)(_context2.t1);\n\n                          case 6:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x4) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }()));\n\n              case 20:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, null, [[0, 13]]);\n      }));\n\n      return function (_x3) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  });\n});","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nexport default function createSubscription(_subscribe, remove) {\n  var value;\n  var subscribing;\n  var updaters = new Set();\n  return {\n    getCurrentValue: function getCurrentValue() {\n      return value;\n    },\n    subscribe: function subscribe(update) {\n      updaters.add(update);\n\n      if (updaters.size === 1) {\n        subscribing = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _subscribe(function (nextValue) {\n                    value = [null, nextValue];\n                    updaters.forEach(function (updater) {\n                      return updater();\n                    });\n                  });\n\n                case 3:\n                  return _context.abrupt(\"return\", _context.sent);\n\n                case 6:\n                  _context.prev = 6;\n                  _context.t0 = _context[\"catch\"](0);\n                  value = [_context.t0];\n                  updaters.forEach(function (updater) {\n                    return updater();\n                  });\n\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[0, 6]]);\n        }))();\n      }\n\n      return (\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2() {\n          var unsubscribe;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  updaters.delete(update);\n\n                  if (updaters.size) {\n                    _context2.next = 7;\n                    break;\n                  }\n\n                  remove();\n                  _context2.next = 5;\n                  return subscribing;\n\n                case 5:\n                  unsubscribe = _context2.sent;\n                  unsubscribe === null || unsubscribe === void 0 ? void 0 : unsubscribe();\n\n                case 7:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }))\n      );\n    }\n  };\n}","import createStore from './utils/createStore';\nimport createSubscription from './createSubscription';\nvar store = createStore();\nexport default function getSubscription(db, key, subscribe) {\n  return store([db, key], function (remove) {\n    return [createSubscription(subscribe, remove)];\n  })[0];\n}","import { useMemo } from 'react';\nimport stringify from 'fast-json-stable-stringify';\nimport getSubscription from './getSubscription';\nexport default function useGetSubscription(db, options, subscribe) {\n  var key = stringify(options);\n  return useMemo(function () {\n    return getSubscription(db, key, subscribe);\n  }, [db, key, subscribe]);\n}","import { useCallback } from 'react';\nimport handleError from './handleError';\nimport useGetSubscription from './useGetSubscription';\nimport debounceSetValue from './debounceSetValue';\nexport default (function (useListen) {\n  return function (db, options, subscribe) {\n    var _ref, _useGetSubscription;\n\n    return _ref = (_useGetSubscription = useGetSubscription(db, options, useCallback(function (setValue) {\n      var _ref2, _setValue;\n\n      return _ref2 = (_setValue = setValue, debounceSetValue(db)(_setValue)), subscribe(_ref2);\n    }, [db, subscribe])), useListen(_useGetSubscription, db)), handleError(_ref);\n  };\n});","import useSubscriptionImmediateSuspense from './utils/useSubscriptionImmediateSuspense';\nimport createListenHook from './createListenHook';\nexport default createListenHook(function (subscription, _ref) {\n  var synchronousAPITemporarySubscriptionCleanupDelay = _ref.reactPouchDBOptions.synchronousAPITemporarySubscriptionCleanupDelay;\n  return useSubscriptionImmediateSuspense(subscription, synchronousAPITemporarySubscriptionCleanupDelay);\n});","import { useSubscription } from 'use-subscription'; // Like use-subscription, but if current value is undefined, this will suspend immediately until value is received.\n// Initial subscription is closed after cleanupDelay. Component should have mounted (and subscribed) by then or process is repeated indefinitely.\n\nexport default function useSubscriptionImmediateSuspense(subscription) {\n  var cleanupDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30000;\n\n  if (!subscription.getCurrentValue()) {\n    throw new Promise(function (resolve) {\n      var unsubscribe = subscription.subscribe(resolve);\n      setTimeout(unsubscribe, cleanupDelay);\n    });\n  }\n\n  return useSubscription(subscription);\n}","import { debounce } from 'lodash';\nexport default (function (_ref) {\n  var reactPouchDBOptions = _ref.reactPouchDBOptions,\n      _ref$reactPouchDBOpti = _ref.reactPouchDBOptions,\n      _ref$reactPouchDBOpti2 = _ref$reactPouchDBOpti.debounceUpdatesWait,\n      wait = _ref$reactPouchDBOpti2 === void 0 ? 100 : _ref$reactPouchDBOpti2,\n      _ref$reactPouchDBOpti3 = _ref$reactPouchDBOpti.debounceUpdatesMaxWait,\n      maxWait = _ref$reactPouchDBOpti3 === void 0 ? 1000 : _ref$reactPouchDBOpti3;\n  return reactPouchDBOptions.debounceUpdatesWait === null ? function (x) {\n    return x;\n  } : function (setValue) {\n    return (// For batch of changes from bulkDocs, update only every `maxWait`.\n      // If there were more updates, update also finally after `wait`.\n      debounce(setValue, wait, {\n        leading: true,\n        trailing: true,\n        maxWait: maxWait\n      })\n    );\n  };\n});","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nexport default function handleError() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n      _ref2 = _slicedToArray(_ref, 2),\n      error = _ref2[0],\n      data = _ref2[1];\n\n  if (error) {\n    throw error;\n  }\n\n  return data;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport React from \"react\";\nimport { Provider } from './DBContext';\nimport { useDBOptions } from './useDB';\nexport default function PouchDB(_ref) {\n  var children = _ref.children,\n      options = _objectWithoutProperties(_ref, [\"children\"]);\n\n  return React.createElement(Provider, {\n    value: useDBOptions(options)\n  }, children);\n}","import apiFind from './api/Find';\nimport apiGet from './api/Get';\nimport apiUseFind from './api/useFind';\nimport apiUseGet from './api/useGet';\nimport useListen from './useListen';\nimport _PouchDB from './PouchDB';\nexport { _PouchDB as PouchDB };\nimport _withDB from './withDB';\nexport { _withDB as withDB };\nimport * as _DBContext from './DBContext';\nexport { _DBContext as DBContext };\nimport _useDB from './useDB';\nexport { _useDB as useDB };\nexport var useFind = apiUseFind(useListen);\nexport var useGet = apiUseGet(useListen);\nexport var Find = apiFind(useFind);\nexport var Get = apiGet(useGet);","import _extends from \"@babel/runtime/helpers/extends\";\nimport React from \"react\";\nimport { forwardRef } from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport reverseArgs from './utils/reverseArgs';\nimport useDB from './useDB';\nexport default reverseArgs(function withDB(Component, db) {\n  return forwardRef(hoistStatics(Object.assign(function (props, ref) {\n    return React.createElement(Component, _extends({}, props, {\n      db: useDB(db, {\n        callee: 'withDB',\n        example: 'withDB(name|options, Component)'\n      }),\n      ref: ref\n    }));\n  }, {\n    displayName: \"withDB(\".concat(Component.displayName || Component.name, \")\"),\n    WrappedComponent: Component\n  }), Component));\n});","export default () => (\n  <aside className=\"learn\">\n    <header>\n      <h3>react-pouchdb</h3>\n      <h5>Example</h5>\n      <a href=\"https://github.com/ArnoSaine/react-pouchdb/tree/master/todoapp\">\n        Source\n      </a>\n    </header>\n    <hr />\n    <h4>Official Resources</h4>\n    <ul>\n      {[\n        {\n          url: 'https://github.com/ArnoSaine/react-pouchdb',\n          text: 'react-pouchdb'\n        },\n        {\n          url: 'https://pouchdb.com',\n          text: 'PouchDB'\n        },\n        {\n          url: 'http://couchdb.apache.org',\n          text: 'CouchDB'\n        }\n      ].map(({ text, url }) => (\n        <li key={url}>\n          <a href={url}>{text}</a>\n        </li>\n      ))}\n    </ul>\n  </aside>\n);\n","import Aside from './Aside';\nimport styles from './styles.module.css';\n\nexport default ({ children }) => (\n  <div className={`learn-bar ${styles['learn-bar']}`}>\n    <Aside />\n    {children}\n  </div>\n);\n","import { useDB, useFind } from 'react-pouchdb/browser';\n\nexport default function ClearCompleted() {\n  const docs = useFind({\n    selector: {\n      completed: true\n    }\n  });\n  const { bulkDocs } = useDB();\n  const { length } = docs;\n  return length ? (\n    <button\n      className=\"clear-completed\"\n      onClick={() => bulkDocs(docs.map(doc => ({ ...doc, _deleted: true })))}\n      type=\"button\"\n    >\n      Clear completed ({length})\n    </button>\n  ) : null;\n}\n","import { useFind } from 'react-pouchdb/browser';\n\nexport default function Counter() {\n  const docs = useFind({\n    selector: {\n      completed: { $ne: true }\n    }\n  });\n  const { length } = docs;\n  return (\n    <span className=\"todo-count\">\n      {length} {length === 1 ? 'item' : 'items'} left\n    </span>\n  );\n}\n","import { NavLink } from 'react-router-dom';\n\nexport default function Filter() {\n  return (\n    <ul className=\"filters\">\n      {[\n        { path: '', title: 'All' },\n        { path: 'active', title: 'Active' },\n        { path: 'completed', title: 'Completed' }\n      ].map(({ path, title }) => (\n        <li key={path}>\n          <NavLink activeClassName=\"selected\" exact replace to={`/${path}`}>\n            {title}\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { useFind } from 'react-pouchdb/browser';\nimport ClearCompleted from './ClearCompleted';\nimport Counter from './Counter';\nimport Filter from './Filter';\n\nexport default function Footer() {\n  const docs = useFind({\n    selector: {}\n  });\n  const { length } = docs;\n  return length ? (\n    <footer className=\"footer\">\n      <Counter />\n      <Filter />\n      <ClearCompleted />\n    </footer>\n  ) : null;\n}\n","import { useDB } from 'react-pouchdb/browser';\n\nexport default function Input() {\n  const { post } = useDB();\n  return (\n    <input\n      autoFocus\n      className=\"new-todo\"\n      onKeyDown={({ keyCode, target }) => {\n        const title = target.value.trim();\n        if (keyCode === 13 && title) {\n          post({ title, timestamp: Date.now() });\n          target.value = '';\n        }\n      }}\n      placeholder=\"What needs to be done?\"\n      type=\"text\"\n    />\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { useDB } from 'react-pouchdb/browser';\n\nexport default function Item({ doc, doc: { completed = false, title } }) {\n  const { put, remove } = useDB();\n  const [focus, setFocus] = useState();\n  const [isEditing, setIsEditing] = useState();\n  const inputRef = useRef();\n\n  useEffect(() => {\n    if (focus) {\n      inputRef.current.focus();\n      setFocus(false);\n    }\n  }, [focus, setFocus]);\n\n  function handleSave() {\n    setIsEditing(false);\n    put({\n      ...doc,\n      title: inputRef.current.value.trim()\n    });\n  }\n\n  return (\n    <li\n      className={classNames(completed && 'completed', isEditing && 'editing')}\n      onDoubleClick={() => {\n        setFocus(true);\n        setIsEditing(true);\n      }}\n    >\n      <div className=\"view\">\n        <input\n          className=\"toggle\"\n          checked={completed}\n          onChange={() =>\n            put({\n              ...doc,\n              completed: !completed\n            })\n          }\n          type=\"checkbox\"\n        />\n        <label>{title}</label>\n        <button className=\"destroy\" onClick={() => remove(doc)} type=\"button\" />\n      </div>\n      <input\n        className=\"edit\"\n        ref={inputRef}\n        type=\"text\"\n        defaultValue={title}\n        onKeyDown={({ keyCode }) => {\n          if (keyCode === 13) {\n            handleSave();\n          }\n        }}\n        onBlur={handleSave}\n      />\n    </li>\n  );\n}\n","import { useFind } from 'react-pouchdb/browser';\nimport Item from './Item';\n\nconst filterByCompletedField = {\n  active: { $ne: true },\n  completed: true\n};\n\nexport default function Docs({\n  match: {\n    params: { filter }\n  }\n}) {\n  const docs = useFind({\n    selector: {\n      timestamp: { $gte: null },\n      completed: filterByCompletedField[filter]\n    },\n    sort: ['timestamp']\n  });\n  return (\n    <ul className=\"todo-list\">\n      {docs.map(doc => (\n        <Item key={doc._id} doc={doc} />\n      ))}\n    </ul>\n  );\n}\n","import { Route } from 'react-router-dom';\nimport Docs from './Docs';\n\nexport default function List() {\n  return <Route path=\"/:filter?\" component={Docs} />;\n}\n","import { useDB, useFind } from 'react-pouchdb/browser';\n\nexport default function ToggleAll() {\n  const docs = useFind({\n    selector: {}\n  });\n  const { bulkDocs } = useDB();\n  return docs.length\n    ? (() => {\n        const completed = docs.every(({ completed }) => completed);\n        return (\n          <>\n            <input\n              id=\"toggle-all\"\n              className=\"toggle-all\"\n              checked={completed}\n              onChange={() =>\n                bulkDocs(docs.map(doc => ({ ...doc, completed: !completed })))\n              }\n              type=\"checkbox\"\n            />\n            <label htmlFor=\"toggle-all\" />\n          </>\n        );\n      })()\n    : null;\n}\n","import { Suspense } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PouchDB } from 'react-pouchdb/browser';\nimport Container from './Container';\nimport Footer from './Footer';\nimport Input from './Input';\nimport List from './List';\nimport ToggleAll from './ToggleAll';\nimport { homepage } from '../package.json';\n\nconst basename = process.env.NODE_ENV === 'development' ? undefined : homepage;\n\nfunction App() {\n  return (\n    <Suspense fallback=\"loading...\">\n      <Container>\n        <PouchDB name=\"todoapp\">\n          <BrowserRouter basename={basename}>\n            <section className=\"todoapp\">\n              <header>\n                <h1>todos</h1>\n              </header>\n              <Input />\n              <section className=\"main\">\n                <ToggleAll />\n                <List />\n                <Footer />\n              </section>\n            </section>\n          </BrowserRouter>\n        </PouchDB>\n      </Container>\n    </Suspense>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactDOM from 'react-dom';\nimport 'todomvc-app-css/index.css';\nimport 'todomvc-common/base.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}