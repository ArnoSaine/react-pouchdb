(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){e.exports={"learn-bar":"styles_learn-bar__2qN9S"}},104:function(e){e.exports={a:"/react-pouchdb"}},106:function(e,t,n){e.exports=n(228)},228:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(92),o=n.n(c),u=(n(111),n(113),n(230)),i=n(42),l=n(18),s=n.n(l),f=n(20),d=(n(93),n(29)),m=Object(r.createContext)(),p=m,v=(m.Consumer,m.Provider),h=n(15),b=n.n(h),x=n(25),E=n.n(x);function w(e,t){var n;return this.has(e)?this.get(e):(n=t(),this.set(e,n),n)}var y=new Map,g=new Map,k=function(e){return function(t){return e("string"===typeof t?{name:t}:t)}},j=k(function(e){var t=e.maxListeners,n=s()(e,["maxListeners"]),r=E()(n),a=w.call(y,r,function(){var e=new d.a("string"===typeof n?n:b()({},n));return t&&e.setMaxListeners(t),e}),c=w.call(g,r,function(){return 0});return g.set(r,c+1),a}),O=k(function(e){e.maxListeners;var t=s()(e,["maxListeners"]),n=E()(t),r=g.get(n)-1;g.set(n,r),r||(y.get(n).close(),y.delete(n))});function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.callee,a=void 0===n?"useDB":n,c=t.example,o=void 0===c?"useDB(options)":c;if(e)return e instanceof d.a?e:j(e);var u=Object(r.useContext)(p);if(u)return u;throw new Error(a?"`".concat(a,"` was called without `db` and database is not in context. Provide database using <PouchDB /> or `").concat(o,"`"):"Database is not in context. Provide database using <PouchDB />")}var _={children:Object(f.oneOfType)([f.element,f.func]),component:f.func,render:f.func},N=(Object.keys(_),function(e,t){return function(n){var a=n.db,c=n.children,o=n.component,u=n.render,i=s()(n,["db","children","component","render"]),l={db:C(a,t)};try{Object.assign(l,a?e(a,i):e(i))}catch(t){if(o||u)throw t}return o?Object(r.createElement)(o,l):u?u(l):"function"===typeof c?c.prototype.render?Object(r.createElement)(c,l):c(l):c&&r.Children.count(c)?Object(r.cloneElement)(c,l):void 0}}),L=n(7),D=n.n(L),q=n(13),B=n.n(q),S=n(94),P=new Map,R="change";function F(e,t){var n=this,r=w.call(P,this,function(){return new Map}),a=E()(e),c=w.call(r,a,function(){return{eventEmitter:n.changes(e),count:0}}),o=c.eventEmitter;return c.count=c.count+1,o.on(R,t),function(){c.count=c.count-1,c.count?o.removeListener(R,t):(o.cancel(),r.delete(a))}}var M=n(14),A=n.n(M),I=n(43),T=n.n(I),K=n(44),W=n.n(K),$=n(30),G=n.n($),J=n(63),U=n.n(J),z=n(46),H=n.n(z),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useEffect,n=void 0===t?r.useEffect:t,a=e.useRef,c=void 0===a?r.useRef:a,o=e.useState,u=void 0===o?r.useState:o;return function(){var e=c(),t=u.apply(void 0,arguments),r=A()(t,2),a=r[0],o=r[1];return n(function(){return e.current=!0,function(){e.current=!1}}),[a,function(t){return e.current&&o(t),e.current}]}}(),V=new Map,X=function(){function e(t){var n=this,r=t.optionsKey,a=t.requests;T()(this,e),Y.set(this,{writable:!0,value:0}),G()(this,"removeRequestIfNoListeners",function(){H()(n,Y)||n.requests.delete(n.optionsKey)}),this.requests=a,this.optionsKey=r}return W()(e,[{key:"resetCleanupTimer",value:function(){clearTimeout(this.timeout),this.timeout=setTimeout(this.removeRequestIfNoListeners,1e4)}},{key:"increaseListenerCount",value:function(){U()(this,Y,H()(this,Y)+1)}},{key:"decreaseListenerCount",value:function(){U()(this,Y,H()(this,Y)-1),this.removeRequestIfNoListeners()}}]),e}(),Y=new WeakMap;function Z(e,t,n,a){var c=w.call(V,e,function(){return new Map}),o=E()(t),u=w.call(c,o,function(){return new X({optionsKey:o,requests:c})});"value"in u||(u.value=B()(D.a.mark(function e(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:u.value=e.sent;case 3:case"end":return e.stop()}},e,this)}))());var i=u.value;if(Promise.resolve(i)===i)throw u.resetCleanupTimer(),i;var l=Q(),s=A()(l,2),f=(s[0],s[1]);return Object(r.useEffect)(function(){u.increaseListenerCount();var e=a(i,function(e){u.value=e,f(e)});return function(){u.decreaseListenerCount(),e()}},[e,o]),i}var ee="u8a",te=["attachments","ajax","binary","id"];function ne(e,t){return re.apply(this,arguments)}function re(){return(re=B()(D.a.mark(function e(t,n){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=11;break}return e.t1=b.a,e.t2={},e.t3=n,e.next=6,Object(S.a)(n._attachments);case 6:e.t4=e.sent,e.t5={_attachments:e.t4},e.t0=(0,e.t1)(e.t2,e.t3,e.t5),e.next=12;break;case 11:e.t0=n;case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}N(Object(i.flow)([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;arguments.length<2&&(e=void 0),e=C(e,{callee:"useGet",example:"useGet(db, options)"});var n=t.id,r=t.attachments,a=s()(t,["id","attachments"]),c=r===ee,o=b()({binary:c},a,{attachments:!!r});return Z(e,t,B()(D.a.mark(function t(){var r;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get(n,b()({},o,{local_seq:!0}));case 3:r=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:return t.abrupt("return",ne(c,r));case 9:case"end":return t.stop()}},t,this,[[0,6]])})),function(r,a){var u;if(Object.keys(t).every(function(e){return te.includes(e)}))return(u=e,F).call(u,b()({},o,{live:!0,include_docs:!0,since:null===r||void 0===r?void 0:r._local_seq,doc_ids:[n]}),function(){var e=B()(D.a.mark(function e(t){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.doc,e.t0=a,e.next=4,ne(c,n);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())})},function(e){return{doc:e}}]),{callee:"<Get />",example:"<Get db={name|options} ... />"});var ae=n(95),ce=n.n(ae),oe=n(31),ue=n.n(oe),ie=n(105),le=n(3),se=n(4);function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;arguments.length<2&&(e=void 0),e=C(e,{callee:"useFind",example:"useFind(db, options)"});var n=t.selector,r=t.limit,a=t.skip,c=t.sort;return Z(e,t,B()(D.a.mark(function n(){return D.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=3;break}return n.next=3,e.createIndex({index:{fields:c.map(function(e){return"object"===ue()(e)?Object.keys(e)[0]:e})}});case 3:return n.next=5,e.find(t);case 5:return n.abrupt("return",n.sent.docs);case 6:case"end":return n.stop()}},n,this)})),function(o,u){var i;u(o);var l=ce()(o);return(i=e,F).call(i,{live:!0,include_docs:!0,since:"now",return_docs:!1},function(){var i=B()(D.a.mark(function i(s){var f,d,m,p,v,h,x,E,w,y,g,k,j,O,C,_;return D.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(f=s.deleted,d=s.doc,m=l.findIndex(function(e){var t=e._id;return d._id===t}),p=-1!==m,!(f||n&&!Object(se.g)(d,n))){i.next=17;break}if(!p){i.next=15;break}if(l.splice(m,1),(v=l.length)+1!==r){i.next=14;break}return i.next=10,e.find(b()({},t,{limit:1,skip:(t.skip||0)+v}));case 10:h=i.sent,x=A()(h.docs,1),(E=x[0])&&o.push(E);case 14:u(l);case 15:i.next=36;break;case 17:if(p?l[m]=d:l.push(d),c&&(w=c.map(function(e){return"object"===ue()(e)?Object.entries(e)[0]:[e,"asc"]}),l.sort(function(e,t){var n=!0,r=!1,a=void 0;try{for(var c,o=w[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var u=A()(c.value,2),i=u[0],l=u[1],s=Object(le.a)(e[i],t[i]);if(0!==s)return"asc"===l?s:-s}}catch(f){r=!0,a=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return 0})),y=l.findIndex(function(e){var t=e._id;return d._id===t}),!p||y+1!==r){i.next=27;break}return i.next=23,e.find(b()({},t,{limit:1,skip:(t.skip||0)+y}));case 23:g=i.sent,k=A()(g.docs,1),(null===(j=k[0])||void 0===j?void 0:j._id)!==d._id&&(l[y]=j);case 27:if(!a||0!==y){i.next=34;break}return i.next=30,e.find(b()({},t,{limit:1}));case 30:O=i.sent,C=A()(O.docs,1),(null===(_=C[0])||void 0===_?void 0:_._id)!==d._id&&(l[0]=_);case 34:l.length>r&&l.splice(r),u(l);case 36:case"end":return i.stop()}},i,this)}));return function(e){return i.apply(this,arguments)}}())})}d.a.plugin(ie.a);N(Object(i.flow)([fe,function(e){return{docs:e}}]),{callee:"<Find />",example:"<Find db={name|options} ... />"});var de=n(96),me=n.n(de),pe=n(97),ve=n.n(pe),he=n(98),be=n.n(he),xe=function(e){function t(e){var n;T()(this,t),n=me()(this,ve()(t).call(this,e));e.children;var r=s()(e,["children"]);return n.db=j(r),n}return be()(t,e),W()(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=(e.children,s()(e,["children"]));O(t)}},{key:"render",value:function(){return a.a.createElement(v,{value:this.db},this.props.children)}}]),t}(r.Component);G()(xe,"propTypes",{children:f.node,maxListeners:f.number,name:f.string.isRequired}),G()(xe,"defaultProps",{children:null,maxListeners:void 0});n(99),n(100);var Ee=function(){return a.a.createElement("aside",{className:"learn"},a.a.createElement("header",null,a.a.createElement("h3",null,"react-pouchdb"),a.a.createElement("h5",null,"Example"),a.a.createElement("a",{href:"https://github.com/ArnoSaine/react-pouchdb/tree/master/todoapp"},"Source")),a.a.createElement("hr",null),a.a.createElement("h4",null,"Official Resources"),a.a.createElement("ul",null,[{url:"https://github.com/ArnoSaine/react-pouchdb",text:"react-pouchdb"},{url:"https://pouchdb.com",text:"PouchDB"},{url:"http://couchdb.apache.org",text:"CouchDB"}].map(function(e){var t=e.text,n=e.url;return a.a.createElement("li",{key:n},a.a.createElement("a",{href:n},t))})))},we=n(101),ye=n.n(we),ge=function(e){var t=e.children;return a.a.createElement("div",{className:"learn-bar ".concat(ye.a["learn-bar"])},a.a.createElement(Ee,null),t)},ke=n(26);function je(){var e=C().bulkDocs,t=fe({selector:{completed:!0}}),n=t.length;return n?a.a.createElement("button",{className:"clear-completed",onClick:function(){return e(t.map(function(e){return Object(ke.a)({},e,{_deleted:!0})}))},type:"button"},"Clear completed (",n,")"):null}function Oe(){var e=fe({selector:{completed:{$ne:!0}}}).length;return a.a.createElement("span",{className:"todo-count"},e," ",1===e?"item":"items"," left")}var Ce=n(231),_e=function(){return a.a.createElement("ul",{className:"filters"},[{path:"",title:"All"},{path:"active",title:"Active"},{path:"completed",title:"Completed"}].map(function(e){var t=e.path,n=e.title;return a.a.createElement("li",{key:t},a.a.createElement(Ce.a,{activeClassName:"selected",exact:!0,replace:!0,to:"/".concat(t)},n))}))},Ne=function(){return a.a.createElement("footer",{className:"footer"},a.a.createElement(Oe,null),a.a.createElement(_e,null),a.a.createElement(je,null))};function Le(){var e=C().post;return a.a.createElement("input",{autoFocus:!0,className:"new-todo",onKeyDown:function(t){var n=t.keyCode,r=t.target,a=r.value.trim();13===n&&a&&(e({title:a,timestamp:Date.now()}),r.value="")},placeholder:"What needs to be done?",type:"text"})}var De=n(229),qe=n(47),Be=n(103),Se=n.n(Be);function Pe(e){var t=e.doc,n=e.doc.completed,c=void 0!==n&&n,o=C(),u=o.put,i=o.remove,l=Object(r.useState)(),s=Object(qe.a)(l,2),f=s[0],d=s[1],m=Object(r.useState)(),p=Object(qe.a)(m,2),v=p[0],h=p[1],b=Object(r.useState)(t.title),x=Object(qe.a)(b,2),E=x[0],w=x[1],y=Object(r.useRef)();return Object(r.useEffect)(function(){f&&(y.current.focus(),d(!1))}),a.a.createElement("li",{className:Se()(c&&"completed",v&&"editing"),onDoubleClick:function(){d(!0),h(!0)}},a.a.createElement("div",{className:"view"},a.a.createElement("input",{className:"toggle",checked:c,onChange:function(){return u(Object(ke.a)({},t,{completed:!c}))},type:"checkbox"}),a.a.createElement("label",null,E),a.a.createElement("button",{className:"destroy",onClick:function(){return i(t)},type:"button"})),a.a.createElement("input",{className:"edit",ref:y,type:"text",value:E,onChange:function(e){var t=e.target.value;return w(t)},onBlur:function(){h(!1),u(Object(ke.a)({},t,{title:E}))}}))}var Re={active:{$ne:!0},completed:!0};function Fe(e){var t=e.match.params.filter,n=fe({selector:{timestamp:{$gte:null},completed:Re[t]}});return a.a.createElement("ul",{className:"todo-list"},n.map(function(e){return a.a.createElement(Pe,{key:e._id,doc:e})}))}var Me=function(){return a.a.createElement(De.a,{path:"/:filter?",component:Fe})};function Ae(){var e=fe({selector:{timestamp:{$gte:null}}}),t=C().bulkDocs;return e.length?function(){var n=e.every(function(e){return e.completed});return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{id:"toggle-all",className:"toggle-all",checked:n,onChange:function(){return t(e.map(function(e){return Object(ke.a)({},e,{completed:!n})}))},type:"checkbox"}),a.a.createElement("label",{htmlFor:"toggle-all"}))}():null}var Ie=n(104).a;var Te=function(){return a.a.createElement(r.Suspense,{fallback:"loading..."},a.a.createElement(ge,null,a.a.createElement(xe,{name:"todoapp"},a.a.createElement(u.a,{basename:Ie},a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",null,a.a.createElement("h1",null,"todos")),a.a.createElement(Le,null),a.a.createElement("section",{className:"main"},a.a.createElement(Ae,null),a.a.createElement(Me,null),a.a.createElement(Ne,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},94:function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),c=n(14),o=n.n(c),u=n(13),i=n.n(u),l=n(31),s=n.n(l),f=n(60),d=n.n(f),m=function(e){return new Promise(function(t){var n=new FileReader;n.onload=function(){return t(new Uint8Array(n.result))},n.readAsArrayBuffer(e)})};t.a="object"===("undefined"===typeof e?"undefined":s()(e))&&e.Buffer?d.a:function(){var e=i()(a.a.mark(function e(t){var n,r,c,u,i,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=Object.entries(t),c=0;case 3:if(!(c<r.length)){e.next=11;break}return u=o()(r[c],2),i=u[0],l=u[1].data,e.next=7,m(l);case 7:n[i]=e.sent;case 8:c++,e.next=3;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}).call(this,n(27))}},[[106,2,1]]]);
//# sourceMappingURL=main.463e5bc7.chunk.js.map