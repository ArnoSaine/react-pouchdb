(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(59),o=n.n(c),i=(n(77),n(79),n(139)),u=n(28),l=n.n(u),s=n(17),d=n.n(s),f=n(22),m=Object(r.createContext)(),p=m,v=(m.Consumer,m.Provider),h=n(15),b=n.n(h),x=n(20),E=n.n(x);function w(e,t){var n;return this.has(e)?this.get(e):(n=t(),this.set(e,n),n)}var g=new Map,k=new Map,y=function(e){return function(t){return e("string"===typeof t?{name:t}:t)}},j=y(function(e){var t=e.maxListeners,n=d()(e,["maxListeners"]),r=E()(n),a=w.call(g,r,function(){var e=new f.a("string"===typeof n?n:b()({},n));return t&&e.setMaxListeners(t),e}),c=w.call(k,r,function(){return 0});return k.set(r,c+1),a}),O=y(function(e){e.maxListeners;var t=d()(e,["maxListeners"]),n=E()(t),r=k.get(n)-1;k.set(n,r),r||(g.get(n).close(),g.delete(n))});function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.callee,a=void 0===n?"useDB":n,c=t.example,o=void 0===c?"useDB(options)":c;if(e)return e instanceof f.a?e:j(e);var i=Object(r.useContext)(p);if(i)return i;throw new Error(a?"`".concat(a,"` was called without `db` and database is not in context. Provide database using <PouchDB /> or `").concat(o,"`"):"Database is not in context. Provide database using <PouchDB />")}var _=function(e,t){return function(n){var a=n.db,c=n.children,o=n.component,i=n.render,u=d()(n,["db","children","component","render"]),l={db:C(a,t)};try{Object.assign(l,a?e(a,u):e(u))}catch(t){if(o||i)throw t}return o?Object(r.createElement)(o,l):i?i(l):"function"===typeof c?c.prototype.render?Object(r.createElement)(c,l):c(l):c&&r.Children.count(c)?Object(r.cloneElement)(c,l):void 0}},N=n(7),L=n.n(N),D=n(13),q=n.n(D),B=n(60),S=new Map,P="change";function R(e,t){var n=this,r=w.call(S,this,function(){return new Map}),a=E()(e),c=w.call(r,a,function(){return{eventEmitter:n.changes(e),count:0}}),o=c.eventEmitter;return c.count=c.count+1,o.on(P,t),function(){c.count=c.count-1,c.count?o.removeListener(P,t):(o.cancel(),r.delete(a))}}var F=n(14),M=n.n(F),A=n(29),I=n.n(A),K=n(30),T=n.n(K),W=n(23),$=n.n(W),G=n(46),J=n.n(G),U=n(32),z=n.n(U),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useEffect,n=void 0===t?r.useEffect:t,a=e.useRef,c=void 0===a?r.useRef:a,o=e.useState,i=void 0===o?r.useState:o;return function(){var e=c(),t=i.apply(void 0,arguments),r=M()(t,2),a=r[0],o=r[1];return n(function(){return e.current=!0,function(){e.current=!1}}),[a,function(t){return e.current&&o(t),e.current}]}}(),Q=new Map,V=function(){function e(t){var n=this,r=t.optionsKey,a=t.requests;I()(this,e),X.set(this,{writable:!0,value:0}),$()(this,"removeRequestIfNoListeners",function(){z()(n,X)||n.requests.delete(n.optionsKey)}),this.requests=a,this.optionsKey=r}return T()(e,[{key:"resetCleanupTimer",value:function(){clearTimeout(this.timeout),this.timeout=setTimeout(this.removeRequestIfNoListeners,1e4)}},{key:"increaseListenerCount",value:function(){J()(this,X,z()(this,X)+1)}},{key:"decreaseListenerCount",value:function(){J()(this,X,z()(this,X)-1),this.removeRequestIfNoListeners()}}]),e}(),X=new WeakMap;function Y(e,t,n,a){var c=w.call(Q,e,function(){return new Map}),o=E()(t),i=w.call(c,o,function(){return new V({optionsKey:o,requests:c})});"value"in i||(i.value=q()(L.a.mark(function e(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:i.value=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),i.value=void 0,e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])}))());var u=i.value;if(Promise.resolve(u)===u)throw i.resetCleanupTimer(),u;var l=H(),s=M()(l,2),d=(s[0],s[1]);return Object(r.useEffect)(function(){i.increaseListenerCount();var e=a(u,function(e){i.value=e,d(e)});return function(){i.decreaseListenerCount(),e()}},[e,o]),u}var Z="u8a",ee=["attachments","ajax","binary","id"];function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=q()(L.a.mark(function e(t,n){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=11;break}return e.t1=b.a,e.t2={},e.t3=n,e.next=6,Object(B.a)(n._attachments);case 6:e.t4=e.sent,e.t5={_attachments:e.t4},e.t0=(0,e.t1)(e.t2,e.t3,e.t5),e.next=12;break;case 11:e.t0=n;case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}_(l()([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;arguments.length<2&&(e=void 0),e=C(e,{callee:"useGet",example:"useGet(db, options)"});var n=t.id,r=t.attachments,a=d()(t,["id","attachments"]),c=r===Z,o=b()({binary:c},a,{attachments:!!r});return Y(e,t,q()(L.a.mark(function t(){return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=te,t.t1=c,t.next=4,e.get(n,b()({},o,{local_seq:!0}));case 4:return t.t2=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t,this)})),function(r,a){var i;if(Object.keys(t).every(function(e){return ee.includes(e)}))return(i=e,R).call(i,b()({},o,{live:!0,include_docs:!0,since:null===r||void 0===r?void 0:r._local_seq,doc_ids:[n]}),function(){var e=q()(L.a.mark(function e(t){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.doc,e.t0=a,e.next=4,te(c,n);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())})},function(e){return{doc:e}}]),{callee:"<Get />",example:"<Get db={name|options} ... />"});var re=n(61),ae=n.n(re),ce=n(24),oe=n.n(ce),ie=n(71),ue=n(3),le=n(4);function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;arguments.length<2&&(e=void 0),e=C(e,{callee:"useFind",example:"useFind(db, options)"});var n=t.selector,r=t.limit,a=t.skip,c=t.sort;return Y(e,t,q()(L.a.mark(function n(){return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=3;break}return n.next=3,e.createIndex({index:{fields:c.map(function(e){return"object"===oe()(e)?Object.keys(e)[0]:e})}});case 3:return n.next=5,e.find(t);case 5:return n.abrupt("return",n.sent.docs);case 6:case"end":return n.stop()}},n,this)})),function(o,i){var u,l;return o&&(l=ae()(o)),(u=e,R).call(u,{live:!0,include_docs:!0,since:"now",return_docs:!1},function(){var u=q()(L.a.mark(function u(s){var d,f,m,p,v,h,x,E,w,g,k,y,j,O,C,_,N;return L.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(f=s.deleted,m=s.doc,p=null===(d=l)||void 0===d?void 0:d.findIndex(function(e){var t=e._id;return m._id===t}),v=-1!==p,!(f||n&&!Object(le.g)(m,n))){u.next=17;break}if(!v){u.next=15;break}if(l.splice(p,1),(h=l.length)+1!==r){u.next=14;break}return u.next=10,e.find(b()({},t,{limit:1,skip:(t.skip||0)+h}));case 10:x=u.sent,E=M()(x.docs,1),(w=E[0])&&o.push(w);case 14:i(l);case 15:u.next=36;break;case 17:if(v?l[p]=m:(l||(l=[]),l.push(m)),c&&(g=c.map(function(e){return"object"===oe()(e)?Object.entries(e)[0]:[e,"asc"]}),l.sort(function(e,t){var n=!0,r=!1,a=void 0;try{for(var c,o=g[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=M()(c.value,2),u=i[0],l=i[1],s=Object(ue.a)(e[u],t[u]);if(0!==s)return"asc"===l?s:-s}}catch(d){r=!0,a=d}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return 0})),k=l.findIndex(function(e){var t=e._id;return m._id===t}),!v||k+1!==r){u.next=27;break}return u.next=23,e.find(b()({},t,{limit:1,skip:(t.skip||0)+k}));case 23:y=u.sent,j=M()(y.docs,1),(null===(O=j[0])||void 0===O?void 0:O._id)!==m._id&&(l[k]=O);case 27:if(!a||0!==k){u.next=34;break}return u.next=30,e.find(b()({},t,{limit:1}));case 30:C=u.sent,_=M()(C.docs,1),(null===(N=_[0])||void 0===N?void 0:N._id)!==m._id&&(l[0]=N);case 34:l.length>r&&l.splice(r),i(l);case 36:case"end":return u.stop()}},u,this)}));return function(e){return u.apply(this,arguments)}}())})}f.a.plugin(ie.a);_(l()([se,function(e){return{docs:e}}]),{callee:"<Find />",example:"<Find db={name|options} ... />"});var de=n(62),fe=n.n(de),me=n(63),pe=n.n(me),ve=n(64),he=n.n(ve),be=n(33),xe=function(e){function t(e){var n;I()(this,t),n=fe()(this,pe()(t).call(this,e));e.children;var r=d()(e,["children"]);return n.db=j(r),n}return he()(t,e),T()(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=(e.children,d()(e,["children"]));O(t)}},{key:"render",value:function(){return a.a.createElement(v,{value:this.db},this.props.children)}}]),t}(r.Component);$()(xe,"propTypes",{children:be.node,maxListeners:be.number,name:be.string.isRequired}),$()(xe,"defaultProps",{children:null,maxListeners:void 0});n(65),n(66);var Ee=function(){return a.a.createElement("aside",{className:"learn"},a.a.createElement("header",null,a.a.createElement("h3",null,"react-pouchdb"),a.a.createElement("h5",null,"Example"),a.a.createElement("a",{href:"https://github.com/ArnoSaine/react-pouchdb/tree/master/todoapp"},"Source")),a.a.createElement("hr",null),a.a.createElement("h4",null,"Official Resources"),a.a.createElement("ul",null,[{url:"https://github.com/ArnoSaine/react-pouchdb",text:"react-pouchdb"},{url:"https://pouchdb.com",text:"PouchDB"},{url:"http://couchdb.apache.org",text:"CouchDB"}].map(function(e){var t=e.text,n=e.url;return a.a.createElement("li",{key:n},a.a.createElement("a",{href:n},t))})))},we=n(67),ge=n.n(we),ke=function(e){var t=e.children;return a.a.createElement("div",{className:"learn-bar ".concat(ge.a["learn-bar"])},a.a.createElement(Ee,null),t)},ye=n(21);function je(){var e=C().bulkDocs,t=se({selector:{completed:!0}}),n=t.length;return n?a.a.createElement("button",{className:"clear-completed",onClick:function(){return e(t.map(function(e){return Object(ye.a)({},e,{_deleted:!0})}))},type:"button"},"Clear completed (",n,")"):null}function Oe(){var e=se({selector:{completed:{$ne:!0}}}).length;return a.a.createElement("span",{className:"todo-count"},e," ",1===e?"item":"items"," left")}var Ce=n(140),_e=function(){return a.a.createElement("ul",{className:"filters"},[{path:"",title:"All"},{path:"active",title:"Active"},{path:"completed",title:"Completed"}].map(function(e){var t=e.path,n=e.title;return a.a.createElement("li",{key:t},a.a.createElement(Ce.a,{activeClassName:"selected",exact:!0,replace:!0,to:"/".concat(t)},n))}))},Ne=function(){return a.a.createElement("footer",{className:"footer"},a.a.createElement(Oe,null),a.a.createElement(_e,null),a.a.createElement(je,null))};function Le(){var e=C().post;return a.a.createElement("input",{autoFocus:!0,className:"new-todo",onKeyDown:function(t){var n=t.keyCode,r=t.target,a=r.value.trim();13===n&&a&&(e({title:a,timestamp:Date.now()}),r.value="")},placeholder:"What needs to be done?",type:"text"})}var De=n(138),qe=n(34),Be=n(69),Se=n.n(Be);function Pe(e){var t=e.doc,n=e.doc.completed,c=void 0!==n&&n,o=C(),i=o.put,u=o.remove,l=Object(r.useState)(),s=Object(qe.a)(l,2),d=s[0],f=s[1],m=Object(r.useState)(),p=Object(qe.a)(m,2),v=p[0],h=p[1],b=Object(r.useState)(t.title),x=Object(qe.a)(b,2),E=x[0],w=x[1],g=Object(r.useRef)();return Object(r.useEffect)(function(){d&&(g.current.focus(),f(!1))}),a.a.createElement("li",{className:Se()(c&&"completed",v&&"editing"),onDoubleClick:function(){f(!0),h(!0)}},a.a.createElement("div",{className:"view"},a.a.createElement("input",{className:"toggle",checked:c,onChange:function(){return i(Object(ye.a)({},t,{completed:!c}))},type:"checkbox"}),a.a.createElement("label",null,E),a.a.createElement("button",{className:"destroy",onClick:function(){return u(t)},type:"button"})),a.a.createElement("input",{className:"edit",ref:g,type:"text",value:E,onChange:function(e){var t=e.target.value;return w(t)},onBlur:function(){h(!1),i(Object(ye.a)({},t,{title:E}))}}))}var Re={active:{$ne:!0},completed:!0};function Fe(e){var t=e.match.params.filter,n=se({selector:{timestamp:{$gte:null},completed:Re[t]}});return a.a.createElement("ul",{className:"todo-list"},n.map(function(e){return a.a.createElement(Pe,{key:e._id,doc:e})}))}var Me=function(){return a.a.createElement(De.a,{path:"/:filter?",component:Fe})};function Ae(){var e=se({selector:{timestamp:{$gte:null}}}),t=C().bulkDocs;return e.length?function(){var n=e.every(function(e){return e.completed});return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{id:"toggle-all",className:"toggle-all",checked:n,onChange:function(){return t(e.map(function(e){return Object(ye.a)({},e,{completed:!n})}))},type:"checkbox"}),a.a.createElement("label",{htmlFor:"toggle-all"}))}():null}var Ie=n(70).a;var Ke=function(){return a.a.createElement(r.Suspense,{fallback:"loading..."},a.a.createElement(ke,null,a.a.createElement(xe,{name:"todoapp"},a.a.createElement(i.a,{basename:Ie},a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",null,a.a.createElement("h1",null,"todos")),a.a.createElement(Le,null),a.a.createElement("section",{className:"main"},a.a.createElement(Ae,null),a.a.createElement(Me,null),a.a.createElement(Ne,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),c=n(14),o=n.n(c),i=n(13),u=n.n(i),l=n(24),s=n.n(l),d=n(43),f=n.n(d),m=function(e){return new Promise(function(t){var n=new FileReader;n.onload=function(){return t(new Uint8Array(n.result))},n.readAsArrayBuffer(e)})};t.a="object"===("undefined"===typeof e?"undefined":s()(e))&&e.Buffer?f.a:function(){var e=u()(a.a.mark(function e(t){var n,r,c,i,u,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=Object.entries(t),c=0;case 3:if(!(c<r.length)){e.next=11;break}return i=o()(r[c],2),u=i[0],l=i[1].data,e.next=7,m(l);case 7:n[u]=e.sent;case 8:c++,e.next=3;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}).call(this,n(26))},67:function(e,t,n){e.exports={"learn-bar":"styles_learn-bar__2qN9S"}},70:function(e){e.exports={a:"/react-pouchdb"}},72:function(e,t,n){e.exports=n(137)}},[[72,2,1]]]);
//# sourceMappingURL=main.f1c52390.chunk.js.map