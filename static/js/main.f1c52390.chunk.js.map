{"version":3,"sources":["../../browser/es/DBContext.js","../../browser/es/getWithDefaultValue.js","../../browser/es/pouchdbConnections.js","../../browser/es/useDB.js","../../browser/es/renderProps.js","../../browser/es/changesCache.js","../../browser/es/useStateIfMounted.js","../../browser/es/useListen.js","../../browser/es/useGet.js","../../browser/es/Get.js","../../browser/es/useFind.js","../../browser/es/Find.js","../../browser/es/PouchDB.js","Container/Aside.js","Container/index.js","Footer/ClearCompleted.js","Footer/Counter.js","Footer/Filter.js","Footer/index.js","Input.js","List/Item.js","List/Docs.js","List/index.js","ToggleAll.js","App.js","serviceWorker.js","index.js","../../browser/es/attachmentsAsUint8Arrays.js","Container/styles.module.css"],"names":["context","Object","react","DBContext","Provider","Consumer","getWithDefaultValue","key","getDefaultValue","defaultValue","this","has","get","set","dbs","Map","userCounts","withOptionsObject","f","options","name","create","_ref","maxListeners","objectWithoutProperties_default","fast_json_stable_stringify_default","db","call","index_es","objectSpread_default","setMaxListeners","userCount","pouchdbConnections_close","_ref2","close","delete","useDB","arguments","length","undefined","_ref$callee","callee","_ref$example","example","dbContext","Error","concat","renderProps","useDBOperation","error","children","component","render","otherProps","props","assign","prototype","count","cache","EVENT","changesCache","handleChange","_this","dbCache","listener","eventEmitter","changes","on","removeListener","cancel","es_useStateIfMounted","_ref$useEffect","useEffect","_ref$useRef","useRef","_ref$useState","useState","isMountRef","_useState","apply","_useState2","slicedToArray_default","value","setValue","current","databaseRequests","useListen_Request","Request","optionsKey","requests","classCallCheck_default","_listenerCount","writable","defineProperty_default","classPrivateFieldGet_default","createClass_default","clearTimeout","timeout","setTimeout","removeRequestIfNoListeners","classPrivateFieldSet_default","WeakMap","useListen","request","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","t0","stop","Promise","resolve","resetCleanupTimer","_useStateIfMounted","_useStateIfMounted2","setState","increaseListenerCount","decreaseListenerCount","UINT8ARRAY","ALLOWED_LIVE_OPTIONS","nextState","_x","_x2","_nextState","_callee3","binary","doc","_context4","t1","t2","t3","attachmentsAsUint8Arrays","_attachments","t4","t5","abrupt","flow_default","id","attachments","otherOptions","optionsWithAttachmentAndBinaryOption","local_seq","setDoc","_context2","keys","every","option","includes","live","include_docs","since","_local_seq","doc_ids","_ref3","_callee2","_context3","_x3","useFind","selector","limit","skip","sort","createIndex","index","fields","map","field","typeof_default","find","docs","setDocs","mutableDocs","toConsumableArray_default","return_docs","_mutableDocs","deleted","found","_ref5","_ref5$docs","replacementDoc","sortOrders","sortedIndex","_ref7","_ref7$docs","lastDoc","_ref8","_ref8$docs","firstDoc","findIndex","_ref4","_id","pouchdb_selector_core_lib_index_es","splice","push","prop","entries","b","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","_step$value","order","result","lib_index_es","err","return","_ref6","plugin","index_browser_es","PouchDB_PouchDB","_Component","PouchDB","possibleConstructorReturn_default","getPrototypeOf_default","inherits_default","_this$props","react_default","createElement","prop_types","isRequired","Aside","className","href","url","text","Container","styles","Counter","bulkDocs","completed","onClick","esm_objectSpread","_deleted","type","$ne","Filter","path","title","NavLink","activeClassName","exact","replace","to","Footer","Counter_Counter","Input","post","autoFocus","onKeyDown","keyCode","target","trim","timestamp","Date","now","placeholder","Item","_ref$doc$completed","_useDB","put","remove","esm_slicedToArray","focus","setFocus","_useState3","_useState4","isEditing","setIsEditing","_useState5","_useState6","setTitle","inputRef","classNames","onDoubleClick","checked","onChange","ref","onBlur","filterByCompletedField","active","Docs","filter","match","params","$gte","List","Route","ToggleAll","Fragment","htmlFor","basename","homepage","App","fallback","BrowserRouter","Boolean","window","location","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","global","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default","lodash_identity__WEBPACK_IMPORTED_MODULE_4__","lodash_identity__WEBPACK_IMPORTED_MODULE_4___default","blobToUint8Array","blob","reader","FileReader","onload","Uint8Array","readAsArrayBuffer","__webpack_exports__","Buffer","_attachmentsAsUint8Arrays","_arr","_i","_arr$_i","data","module","exports","learn-bar"],"mappings":"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","file":"static/js/main.f1c52390.chunk.js","sourcesContent":["import { createContext } from 'react';\nvar context = createContext();\nexport default context;\nvar Consumer = context.Consumer,\n    Provider = context.Provider;\nexport { Consumer, Provider };","export default function getWithDefaultValue(key, getDefaultValue) {\n  var defaultValue;\n  return this.has(key) ? this.get(key) : (defaultValue = getDefaultValue(), this.set(key, defaultValue), defaultValue);\n}","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport PouchDB from \"pouchdb-browser\";\nimport stringify from 'fast-json-stable-stringify';\nimport get from './getWithDefaultValue';\nvar dbs = new Map();\nvar userCounts = new Map();\n\nvar withOptionsObject = function withOptionsObject(f) {\n  return function (options) {\n    return f(typeof options === 'string' ? {\n      name: options\n    } : options);\n  };\n};\n\nexport var create = withOptionsObject(function (_ref) {\n  var maxListeners = _ref.maxListeners,\n      options = _objectWithoutProperties(_ref, [\"maxListeners\"]);\n\n  var key = stringify(options);\n  var db = get.call(dbs, key, function () {\n    var db = new PouchDB(typeof options === 'string' ? options : // PouchDB constructor modifies the options object. Make a copy, so\n    // the original object remains untouched.\n    _objectSpread({}, options));\n\n    if (maxListeners) {\n      db.setMaxListeners(maxListeners);\n    }\n\n    return db;\n  });\n  var userCount = get.call(userCounts, key, function () {\n    return 0;\n  });\n  userCounts.set(key, userCount + 1);\n  return db;\n});\nexport var close = withOptionsObject(function (_ref2) {\n  var maxListeners = _ref2.maxListeners,\n      options = _objectWithoutProperties(_ref2, [\"maxListeners\"]);\n\n  var key = stringify(options);\n  var userCount = userCounts.get(key) - 1;\n  userCounts.set(key, userCount);\n\n  if (!userCount) {\n    dbs.get(key).close();\n    dbs.delete(key);\n  }\n});","import { useContext } from 'react';\nimport PouchDB from \"pouchdb-browser\";\nimport DBContext from './DBContext';\nimport { create } from './pouchdbConnections';\nexport default function useDB(db) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$callee = _ref.callee,\n      callee = _ref$callee === void 0 ? 'useDB' : _ref$callee,\n      _ref$example = _ref.example,\n      example = _ref$example === void 0 ? 'useDB(options)' : _ref$example;\n\n  if (db) {\n    if (db instanceof PouchDB) {\n      return db;\n    }\n\n    return create(db);\n  }\n\n  var dbContext = useContext(DBContext);\n\n  if (dbContext) {\n    return dbContext;\n  }\n\n  throw new Error(callee ? \"`\".concat(callee, \"` was called without `db` and database is not in context. Provide database using <PouchDB /> or `\").concat(example, \"`\") : 'Database is not in context. Provide database using <PouchDB />');\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { Children, cloneElement, createElement } from 'react';\nimport useDB from './useDB';\nexport default (function (useDBOperation, error) {\n  return function (_ref) {\n    var db = _ref.db,\n        children = _ref.children,\n        component = _ref.component,\n        render = _ref.render,\n        otherProps = _objectWithoutProperties(_ref, [\"db\", \"children\", \"component\", \"render\"]);\n\n    var props = {\n      db: useDB(db, error)\n    };\n\n    try {\n      Object.assign(props, db ? useDBOperation(db, otherProps) : useDBOperation(otherProps));\n    } catch (error) {\n      if (component || render) {\n        throw error;\n      }\n    }\n\n    if (component) {\n      return createElement(component, props);\n    }\n\n    if (render) {\n      return render(props);\n    }\n\n    if (typeof children === 'function') {\n      return children.prototype.render ? createElement(children, props) : children(props);\n    }\n\n    if (children && Children.count(children)) {\n      return cloneElement(children, props);\n    }\n  };\n});","import stringify from 'fast-json-stable-stringify';\nimport get from './getWithDefaultValue';\nexport var cache = new Map();\nvar EVENT = 'change';\nexport default function changesCache(options, handleChange) {\n  var _this = this;\n\n  var dbCache = get.call(cache, this, function () {\n    return new Map();\n  });\n  var key = stringify(options);\n  var listener = get.call(dbCache, key, function () {\n    return {\n      eventEmitter: _this.changes(options),\n      count: 0\n    };\n  });\n  var eventEmitter = listener.eventEmitter;\n  listener.count = listener.count + 1;\n  eventEmitter.on(EVENT, handleChange);\n  return function cancel() {\n    listener.count = listener.count - 1;\n\n    if (listener.count) {\n      eventEmitter.removeListener(EVENT, handleChange);\n    } else {\n      eventEmitter.cancel();\n      dbCache.delete(key);\n    }\n  };\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as react from 'react';\nexport var compose = function compose() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$useEffect = _ref.useEffect,\n      useEffect = _ref$useEffect === void 0 ? react.useEffect : _ref$useEffect,\n      _ref$useRef = _ref.useRef,\n      useRef = _ref$useRef === void 0 ? react.useRef : _ref$useRef,\n      _ref$useState = _ref.useState,\n      useState = _ref$useState === void 0 ? react.useState : _ref$useState;\n\n  return function useStateIfMounted() {\n    var isMountRef = useRef();\n\n    var _useState = useState.apply(void 0, arguments),\n        _useState2 = _slicedToArray(_useState, 2),\n        value = _useState2[0],\n        setValue = _useState2[1];\n\n    useEffect(function () {\n      isMountRef.current = true;\n      return function () {\n        isMountRef.current = false;\n      };\n    });\n    return [value, function (value) {\n      if (isMountRef.current) {\n        setValue(value);\n      }\n\n      return isMountRef.current;\n    }];\n  };\n};\nexport default compose();","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classPrivateFieldSet from \"@babel/runtime/helpers/classPrivateFieldSet\";\nimport _classPrivateFieldGet from \"@babel/runtime/helpers/classPrivateFieldGet\";\nimport { useEffect } from 'react';\nimport stringify from 'fast-json-stable-stringify';\nimport getWithDefaultValue from './getWithDefaultValue';\nimport useStateIfMounted from './useStateIfMounted';\nvar databaseRequests = new Map();\n\nvar Request =\n/*#__PURE__*/\nfunction () {\n  function Request(_ref) {\n    var _this = this;\n\n    var optionsKey = _ref.optionsKey,\n        requests = _ref.requests;\n\n    _classCallCheck(this, Request);\n\n    _listenerCount.set(this, {\n      writable: true,\n      value: 0\n    });\n\n    _defineProperty(this, \"removeRequestIfNoListeners\", function () {\n      if (!_classPrivateFieldGet(_this, _listenerCount)) {\n        _this.requests.delete(_this.optionsKey);\n      }\n    });\n\n    this.requests = requests;\n    this.optionsKey = optionsKey;\n  }\n\n  _createClass(Request, [{\n    key: \"resetCleanupTimer\",\n    value: function resetCleanupTimer() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(this.removeRequestIfNoListeners, 10000);\n    }\n  }, {\n    key: \"increaseListenerCount\",\n    value: function increaseListenerCount() {\n      _classPrivateFieldSet(this, _listenerCount, _classPrivateFieldGet(this, _listenerCount) + 1);\n    }\n  }, {\n    key: \"decreaseListenerCount\",\n    value: function decreaseListenerCount() {\n      _classPrivateFieldSet(this, _listenerCount, _classPrivateFieldGet(this, _listenerCount) - 1);\n\n      this.removeRequestIfNoListeners();\n    }\n  }]);\n\n  return Request;\n}();\n\nvar _listenerCount = new WeakMap();\n\nexport default function useListen(db, options, get, listener) {\n  var requests = getWithDefaultValue.call(databaseRequests, db, function () {\n    return new Map();\n  });\n  var optionsKey = stringify(options);\n  var request = getWithDefaultValue.call(requests, optionsKey, function () {\n    return new Request({\n      optionsKey: optionsKey,\n      requests: requests\n    });\n  });\n\n  if (!('value' in request)) {\n    request.value = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return get();\n\n            case 3:\n              request.value = _context.sent;\n              _context.next = 10;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              request.value = undefined;\n              throw _context.t0;\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[0, 6]]);\n    }))();\n  }\n\n  var value = request.value;\n\n  if (Promise.resolve(value) === value) {\n    request.resetCleanupTimer();\n    throw value;\n  }\n\n  var _useStateIfMounted = useStateIfMounted(),\n      _useStateIfMounted2 = _slicedToArray(_useStateIfMounted, 2),\n      _ = _useStateIfMounted2[0],\n      setState = _useStateIfMounted2[1];\n\n  useEffect(function () {\n    request.increaseListenerCount();\n    var cancel = listener(value, function (value) {\n      request.value = value;\n      setState(value);\n    });\n    return function () {\n      request.decreaseListenerCount();\n      cancel();\n    };\n  }, [db, optionsKey]);\n  return value;\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport attachmentsAsUint8Arrays from './attachmentsAsUint8Arrays';\nimport changesCache from './changesCache';\nimport useDB from './useDB';\nimport useListen from './useListen';\nvar UINT8ARRAY = 'u8a';\nvar ALLOWED_LIVE_OPTIONS = ['attachments', 'ajax', 'binary', 'id'];\n\nfunction nextState(_x, _x2) {\n  return _nextState.apply(this, arguments);\n}\n\nfunction _nextState() {\n  _nextState = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(binary, doc) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!(binary && doc)) {\n              _context4.next = 11;\n              break;\n            }\n\n            _context4.t1 = _objectSpread;\n            _context4.t2 = {};\n            _context4.t3 = doc;\n            _context4.next = 6;\n            return attachmentsAsUint8Arrays(doc._attachments);\n\n          case 6:\n            _context4.t4 = _context4.sent;\n            _context4.t5 = {\n              _attachments: _context4.t4\n            };\n            _context4.t0 = (0, _context4.t1)(_context4.t2, _context4.t3, _context4.t5);\n            _context4.next = 12;\n            break;\n\n          case 11:\n            _context4.t0 = doc;\n\n          case 12:\n            return _context4.abrupt(\"return\", _context4.t0);\n\n          case 13:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n  return _nextState.apply(this, arguments);\n}\n\nexport default function useGet(db) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : db;\n\n  if (arguments.length < 2) {\n    db = undefined;\n  }\n\n  db = useDB(db, {\n    callee: 'useGet',\n    example: 'useGet(db, options)'\n  });\n\n  var id = options.id,\n      attachments = options.attachments,\n      otherOptions = _objectWithoutProperties(options, [\"id\", \"attachments\"]);\n\n  var binary = attachments === UINT8ARRAY;\n\n  var optionsWithAttachmentAndBinaryOption = _objectSpread({\n    binary: binary\n  }, otherOptions, {\n    attachments: !!attachments\n  });\n\n  return useListen(db, options,\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = nextState;\n            _context.t1 = binary;\n            _context.next = 4;\n            return db.get(id, _objectSpread({}, optionsWithAttachmentAndBinaryOption, {\n              local_seq: true\n            }));\n\n          case 4:\n            _context.t2 = _context.sent;\n            return _context.abrupt(\"return\", (0, _context.t0)(_context.t1, _context.t2));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  })), function (doc, setDoc) {\n    // Live?\n    if (Object.keys(options).every(function (option) {\n      return ALLOWED_LIVE_OPTIONS.includes(option);\n    })) {\n      var _context2;\n\n      return (_context2 = db, changesCache).call(_context2, _objectSpread({}, optionsWithAttachmentAndBinaryOption, {\n        live: true,\n        include_docs: true,\n        since: doc === null || doc === void 0 ? void 0 : doc._local_seq,\n        doc_ids: [id]\n      }),\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2(_ref2) {\n          var doc;\n          return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  doc = _ref2.doc;\n                  _context3.t0 = setDoc;\n                  _context3.next = 4;\n                  return nextState(binary, doc);\n\n                case 4:\n                  _context3.t1 = _context3.sent;\n                  return _context3.abrupt(\"return\", (0, _context3.t0)(_context3.t1));\n\n                case 6:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        return function (_x3) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    }\n  });\n}","import flow from 'lodash/flow';\nimport renderProps from './renderProps';\nimport useGet from './useGet';\nexport default renderProps(flow([useGet, function (doc) {\n  return {\n    doc: doc\n  };\n}]), {\n  callee: '<Get />',\n  example: '<Get db={name|options} ... />'\n});","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport PouchDB from \"pouchdb-browser\";\nimport find from 'pouchdb-find';\nimport { collate } from 'pouchdb-collate';\nimport { matchesSelector } from 'pouchdb-selector-core';\nimport changesCache from './changesCache';\nimport useDB from './useDB';\nimport useListen from './useListen';\nPouchDB.plugin(find);\nexport default function useFind(db) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : db;\n\n  if (arguments.length < 2) {\n    db = undefined;\n  }\n\n  db = useDB(db, {\n    callee: 'useFind',\n    example: 'useFind(db, options)'\n  });\n  var selector = options.selector,\n      limit = options.limit,\n      skip = options.skip,\n      sort = options.sort;\n  return useListen(db, options,\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!sort) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return db.createIndex({\n              index: {\n                fields: sort.map(function (field) {\n                  return _typeof(field) === 'object' ? Object.keys(field)[0] : field;\n                })\n              }\n            });\n\n          case 3:\n            _context.next = 5;\n            return db.find(options);\n\n          case 5:\n            return _context.abrupt(\"return\", _context.sent.docs);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  })), function (docs, setDocs) {\n    var _context2; // setDocs(docs);\n\n\n    var mutableDocs;\n\n    if (docs) {\n      mutableDocs = _toConsumableArray(docs);\n    } // To find deleted and other non-matching documents, listen all changes and use selector in 'change' event.\n\n\n    return (_context2 = db, changesCache).call(_context2, {\n      live: true,\n      include_docs: true,\n      since: 'now',\n      // Documents are kept in memory. 'complete' event can return an empty array.\n      return_docs: false\n    },\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(_ref2) {\n        var _mutableDocs;\n\n        var deleted, doc, index, found, _mutableDocs2, length, _ref5, _ref5$docs, replacementDoc, sortOrders, sortedIndex, _ref7, _ref7$docs, lastDoc, _ref8, _ref8$docs, firstDoc;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                deleted = _ref2.deleted, doc = _ref2.doc;\n                index = (_mutableDocs = mutableDocs) === null || _mutableDocs === void 0 ? void 0 : _mutableDocs.findIndex(function (_ref4) {\n                  var _id = _ref4._id;\n                  return doc._id === _id;\n                });\n                found = index !== -1; // Document was deleted or it does not match the selector?\n\n                if (!(deleted || selector && !matchesSelector(doc, selector))) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                if (!found) {\n                  _context3.next = 15;\n                  break;\n                } // Remove.\n\n\n                mutableDocs.splice(index, 1);\n                _mutableDocs2 = mutableDocs, length = _mutableDocs2.length; // At the limit?\n\n                if (!(length + 1 === limit)) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                _context3.next = 10;\n                return db.find(_objectSpread({}, options, {\n                  limit: 1,\n                  skip: (options.skip || 0) + length\n                }));\n\n              case 10:\n                _ref5 = _context3.sent;\n                _ref5$docs = _slicedToArray(_ref5.docs, 1);\n                replacementDoc = _ref5$docs[0];\n\n                if (replacementDoc) {\n                  docs.push(replacementDoc);\n                }\n\n              case 14:\n                setDocs(mutableDocs);\n\n              case 15:\n                _context3.next = 36;\n                break;\n\n              case 17:\n                if (found) {\n                  // Update.\n                  mutableDocs[index] = doc;\n                } else {\n                  // Create.\n                  if (!mutableDocs) {\n                    mutableDocs = [];\n                  }\n\n                  mutableDocs.push(doc);\n                }\n\n                if (sort) {\n                  sortOrders = sort.map(function (prop) {\n                    return _typeof(prop) === 'object' ? Object.entries(prop)[0] : // Default sort order is 'asc'\n                    [prop, 'asc'];\n                  });\n                  mutableDocs.sort(function (a, b) {\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                      for (var _iterator = sortOrders[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var _step$value = _slicedToArray(_step.value, 2),\n                            prop = _step$value[0],\n                            order = _step$value[1];\n\n                        var result = collate(a[prop], b[prop]);\n\n                        if (result !== 0) {\n                          return order === 'asc' ? result : -result;\n                        }\n                      }\n                    } catch (err) {\n                      _didIteratorError = true;\n                      _iteratorError = err;\n                    } finally {\n                      try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                          _iterator.return();\n                        }\n                      } finally {\n                        if (_didIteratorError) {\n                          throw _iteratorError;\n                        }\n                      }\n                    }\n\n                    return 0;\n                  });\n                }\n\n                sortedIndex = mutableDocs.findIndex(function (_ref6) {\n                  var _id = _ref6._id;\n                  return doc._id === _id;\n                }); // Document update, new place supposed to be last, `limit` option is set and limit was reached?\n\n                if (!(found && sortedIndex + 1 === limit)) {\n                  _context3.next = 27;\n                  break;\n                }\n\n                _context3.next = 23;\n                return db.find(_objectSpread({}, options, {\n                  limit: 1,\n                  skip: (options.skip || 0) + sortedIndex\n                }));\n\n              case 23:\n                _ref7 = _context3.sent;\n                _ref7$docs = _slicedToArray(_ref7.docs, 1);\n                lastDoc = _ref7$docs[0];\n\n                if ((lastDoc === null || lastDoc === void 0 ? void 0 : lastDoc._id) !== doc._id) {\n                  mutableDocs[sortedIndex] = lastDoc;\n                }\n\n              case 27:\n                if (!(skip && sortedIndex === 0)) {\n                  _context3.next = 34;\n                  break;\n                }\n\n                _context3.next = 30;\n                return db.find(_objectSpread({}, options, {\n                  limit: 1\n                }));\n\n              case 30:\n                _ref8 = _context3.sent;\n                _ref8$docs = _slicedToArray(_ref8.docs, 1);\n                firstDoc = _ref8$docs[0];\n\n                if ((firstDoc === null || firstDoc === void 0 ? void 0 : firstDoc._id) !== doc._id) {\n                  mutableDocs[0] = firstDoc;\n                }\n\n              case 34:\n                if (mutableDocs.length > limit) {\n                  mutableDocs.splice(limit);\n                }\n\n                setDocs(mutableDocs);\n\n              case 36:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  });\n}","import flow from 'lodash/flow';\nimport renderProps from './renderProps';\nimport useFind from './useFind';\nexport default renderProps(flow([useFind, function (docs) {\n  return {\n    docs: docs\n  };\n}]), {\n  callee: '<Find />',\n  example: '<Find db={name|options} ... />'\n});","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React from \"react\";\nimport { Component } from 'react';\nimport { node, number, string } from 'prop-types';\nimport { create, close } from './pouchdbConnections';\nimport { Provider } from './DBContext';\n\nvar PouchDB =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PouchDB, _Component);\n\n  function PouchDB(props) {\n    var _this;\n\n    _classCallCheck(this, PouchDB);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PouchDB).call(this, props));\n\n    var children = props.children,\n        options = _objectWithoutProperties(props, [\"children\"]);\n\n    _this.db = create(options);\n    return _this;\n  }\n\n  _createClass(PouchDB, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          options = _objectWithoutProperties(_this$props, [\"children\"]);\n\n      close(options);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Provider, {\n        value: this.db\n      }, this.props.children);\n    }\n  }]);\n\n  return PouchDB;\n}(Component);\n\n_defineProperty(PouchDB, \"propTypes\", {\n  children: node,\n  maxListeners: number,\n  name: string.isRequired\n});\n\n_defineProperty(PouchDB, \"defaultProps\", {\n  children: null,\n  maxListeners: undefined\n});\n\nexport { PouchDB as default };","export default () => (\n  <aside className=\"learn\">\n    <header>\n      <h3>react-pouchdb</h3>\n      <h5>Example</h5>\n      <a href=\"https://github.com/ArnoSaine/react-pouchdb/tree/master/todoapp\">\n        Source\n      </a>\n    </header>\n    <hr />\n    <h4>Official Resources</h4>\n    <ul>\n      {[\n        {\n          url: 'https://github.com/ArnoSaine/react-pouchdb',\n          text: 'react-pouchdb'\n        },\n        {\n          url: 'https://pouchdb.com',\n          text: 'PouchDB'\n        },\n        {\n          url: 'http://couchdb.apache.org',\n          text: 'CouchDB'\n        }\n      ].map(({ text, url }) => (\n        <li key={url}>\n          <a href={url}>{text}</a>\n        </li>\n      ))}\n    </ul>\n  </aside>\n);\n","import Aside from './Aside';\nimport styles from './styles.module.css';\n\nexport default ({ children }) => (\n  <div className={`learn-bar ${styles['learn-bar']}`}>\n    <Aside />\n    {children}\n  </div>\n);\n","import { useDB, useFind } from 'react-pouchdb/browser';\n\nexport default function Counter() {\n  const { bulkDocs } = useDB();\n  const docs = useFind({\n    selector: {\n      completed: true\n    }\n  });\n  const { length } = docs;\n  return length ? (\n    <button\n      className=\"clear-completed\"\n      onClick={() => bulkDocs(docs.map(doc => ({ ...doc, _deleted: true })))}\n      type=\"button\"\n    >\n      Clear completed ({length})\n    </button>\n  ) : null;\n}\n","import { useFind } from 'react-pouchdb/browser';\n\nexport default function Counter() {\n  const docs = useFind({\n    selector: {\n      completed: { $ne: true }\n    }\n  });\n  const { length } = docs;\n  return (\n    <span className=\"todo-count\">\n      {length} {length === 1 ? 'item' : 'items'} left\n    </span>\n  );\n}\n","import { NavLink } from 'react-router-dom';\n\nexport default () => (\n  <ul className=\"filters\">\n    {[\n      { path: '', title: 'All' },\n      { path: 'active', title: 'Active' },\n      { path: 'completed', title: 'Completed' }\n    ].map(({ path, title }) => (\n      <li key={path}>\n        <NavLink activeClassName=\"selected\" exact replace to={`/${path}`}>\n          {title}\n        </NavLink>\n      </li>\n    ))}\n  </ul>\n);\n","import ClearCompleted from './ClearCompleted';\nimport Counter from './Counter';\nimport Filter from './Filter';\n\nexport default () => (\n  <footer className=\"footer\">\n    <Counter />\n    <Filter />\n    <ClearCompleted />\n  </footer>\n);\n","import { useDB } from 'react-pouchdb/browser';\n\nexport default function Input() {\n  const { post } = useDB();\n  return (\n    <input\n      autoFocus\n      className=\"new-todo\"\n      onKeyDown={({ keyCode, target }) => {\n        const title = target.value.trim();\n        if (keyCode === 13 && title) {\n          post({ title, timestamp: Date.now() });\n          target.value = '';\n        }\n      }}\n      placeholder=\"What needs to be done?\"\n      type=\"text\"\n    />\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { useDB } from 'react-pouchdb/browser';\n\nexport default function Item({ doc, doc: { completed = false } }) {\n  const { put, remove } = useDB();\n  const [focus, setFocus] = useState();\n  const [isEditing, setIsEditing] = useState();\n  const [title, setTitle] = useState(doc.title);\n  const inputRef = useRef();\n  useEffect(() => {\n    if (focus) {\n      inputRef.current.focus();\n      setFocus(false);\n    }\n  });\n\n  return (\n    <li\n      className={classNames(completed && 'completed', isEditing && 'editing')}\n      onDoubleClick={() => {\n        setFocus(true);\n        setIsEditing(true);\n      }}\n    >\n      <div className=\"view\">\n        <input\n          className=\"toggle\"\n          checked={completed}\n          onChange={() =>\n            put({\n              ...doc,\n              completed: !completed\n            })\n          }\n          type=\"checkbox\"\n        />\n        <label>{title}</label>\n        <button className=\"destroy\" onClick={() => remove(doc)} type=\"button\" />\n      </div>\n      <input\n        className=\"edit\"\n        ref={inputRef}\n        type=\"text\"\n        value={title}\n        onChange={({ target: { value } }) => setTitle(value)}\n        onBlur={() => {\n          setIsEditing(false);\n          put({\n            ...doc,\n            title\n          });\n        }}\n      />\n    </li>\n  );\n}\n","import { useFind } from 'react-pouchdb/browser';\nimport Item from './Item';\n\nconst filterByCompletedField = {\n  active: { $ne: true },\n  completed: true\n};\n\nexport default function Docs({\n  match: {\n    params: { filter }\n  }\n}) {\n  const docs = useFind({\n    selector: {\n      timestamp: { $gte: null },\n      completed: filterByCompletedField[filter]\n    }\n  });\n  return (\n    <ul className=\"todo-list\">\n      {docs.map(doc => (\n        <Item key={doc._id} doc={doc} />\n      ))}\n    </ul>\n  );\n}\n","import { Route } from 'react-router-dom';\nimport Docs from './Docs';\n\nexport default () => <Route path=\"/:filter?\" component={Docs} />;\n","import { useDB, useFind } from 'react-pouchdb/browser';\n\nexport default function ToggleAll() {\n  const docs = useFind({\n    selector: {\n      timestamp: { $gte: null }\n    }\n  });\n  const { bulkDocs } = useDB();\n  return docs.length\n    ? (() => {\n        const completed = docs.every(({ completed }) => completed);\n        return (\n          <>\n            <input\n              id=\"toggle-all\"\n              className=\"toggle-all\"\n              checked={completed}\n              onChange={() =>\n                bulkDocs(docs.map(doc => ({ ...doc, completed: !completed })))\n              }\n              type=\"checkbox\"\n            />\n            <label htmlFor=\"toggle-all\" />\n          </>\n        );\n      })()\n    : null;\n}\n","import { Suspense } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PouchDB } from 'react-pouchdb/browser';\nimport Container from './Container';\nimport Footer from './Footer';\nimport Input from './Input';\nimport List from './List';\nimport ToggleAll from './ToggleAll';\nimport { homepage } from '../package.json';\n\nconst basename = process.env.NODE_ENV === 'development' ? undefined : homepage;\n\nfunction App() {\n  return (\n    <Suspense fallback=\"loading...\">\n      <Container>\n        <PouchDB name=\"todoapp\">\n          <BrowserRouter basename={basename}>\n            <section className=\"todoapp\">\n              <header>\n                <h1>todos</h1>\n              </header>\n              <Input />\n              <section className=\"main\">\n                <ToggleAll />\n                <List />\n                <Footer />\n              </section>\n            </section>\n          </BrowserRouter>\n        </PouchDB>\n      </Container>\n    </Suspense>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactDOM from 'react-dom';\nimport 'todomvc-app-css/index.css';\nimport 'todomvc-common/base.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport identity from 'lodash/identity';\n\nvar blobToUint8Array = function blobToUint8Array(blob) {\n  return new Promise(function (resolve) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(new Uint8Array(reader.result));\n    };\n\n    reader.readAsArrayBuffer(blob);\n  });\n};\n\nexport default (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === 'object' && global.Buffer ? identity :\n/*#__PURE__*/\nfunction () {\n  var _attachmentsAsUint8Arrays = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(attachments) {\n    var result, _arr, _i, _arr$_i, name, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            result = {};\n            _arr = Object.entries(attachments);\n            _i = 0;\n\n          case 3:\n            if (!(_i < _arr.length)) {\n              _context.next = 11;\n              break;\n            }\n\n            _arr$_i = _slicedToArray(_arr[_i], 2), name = _arr$_i[0], data = _arr$_i[1].data;\n            _context.next = 7;\n            return blobToUint8Array(data);\n\n          case 7:\n            result[name] = _context.sent;\n\n          case 8:\n            _i++;\n            _context.next = 3;\n            break;\n\n          case 11:\n            return _context.abrupt(\"return\", result);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function attachmentsAsUint8Arrays(_x) {\n    return _attachmentsAsUint8Arrays.apply(this, arguments);\n  };\n}();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"learn-bar\":\"styles_learn-bar__2qN9S\"};"],"sourceRoot":""}