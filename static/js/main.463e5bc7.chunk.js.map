{"version":3,"sources":["Container/styles.module.css","../../browser/es/DBContext.js","../../browser/es/getWithDefaultValue.js","../../browser/es/pouchdbConnections.js","../../browser/es/useDB.js","../../browser/es/renderProps.js","../../browser/es/changesCache.js","../../browser/es/useStateIfMounted.js","../../browser/es/useListen.js","../../browser/es/useGet.js","../../browser/es/Get.js","../../browser/es/useFind.js","../../browser/es/Find.js","../../browser/es/PouchDB.js","Container/Aside.js","Container/index.js","Footer/ClearCompleted.js","Footer/Counter.js","Footer/Filter.js","Footer/index.js","Input.js","List/Item.js","List/Docs.js","List/index.js","ToggleAll.js","App.js","serviceWorker.js","index.js","../../browser/es/attachmentsAsUint8Arrays.js"],"names":["module","exports","learn-bar","context","Object","react","DBContext","Provider","Consumer","getWithDefaultValue","key","getDefaultValue","defaultValue","this","has","get","set","dbs","Map","userCounts","withOptionsObject","f","options","name","create","_ref","maxListeners","objectWithoutProperties_default","fast_json_stable_stringify_default","db","call","index_es","objectSpread_default","setMaxListeners","userCount","pouchdbConnections_close","_ref2","close","delete","useDB","arguments","length","undefined","_ref$callee","callee","_ref$example","example","dbContext","Error","concat","propTypes","children","prop_types","component","render","renderProps","keys","useDBOperation","error","otherProps","props","assign","prototype","count","cache","EVENT","changesCache","handleChange","_this","dbCache","listener","eventEmitter","changes","on","removeListener","cancel","es_useStateIfMounted","_ref$useEffect","useEffect","_ref$useRef","useRef","_ref$useState","useState","isMountRef","_useState","apply","_useState2","slicedToArray_default","value","setValue","current","databaseRequests","useListen_Request","Request","optionsKey","requests","classCallCheck_default","_listenerCount","writable","defineProperty_default","classPrivateFieldGet_default","createClass_default","clearTimeout","timeout","setTimeout","removeRequestIfNoListeners","classPrivateFieldSet_default","WeakMap","useListen","request","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","stop","Promise","resolve","resetCleanupTimer","_useStateIfMounted","_useStateIfMounted2","setState","increaseListenerCount","decreaseListenerCount","UINT8ARRAY","ALLOWED_LIVE_OPTIONS","nextState","_x","_x2","_nextState","_callee3","binary","doc","_context4","t1","t2","t3","attachmentsAsUint8Arrays","_attachments","t4","t5","t0","abrupt","lodash","id","attachments","otherOptions","optionsWithAttachmentAndBinaryOption","local_seq","setDoc","_context2","every","option","includes","live","include_docs","since","_local_seq","doc_ids","_ref3","_callee2","_context3","_x3","useFind","selector","limit","skip","sort","createIndex","index","fields","map","field","typeof_default","find","docs","setDocs","mutableDocs","toConsumableArray_default","return_docs","deleted","found","_ref5","_ref5$docs","replacementDoc","sortOrders","sortedIndex","_ref7","_ref7$docs","lastDoc","_ref8","_ref8$docs","firstDoc","findIndex","_ref4","_id","pouchdb_selector_core_lib_index_es","splice","push","prop","entries","b","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","_step$value","order","result","lib_index_es","err","return","_ref6","plugin","index_browser_es","PouchDB_PouchDB","_Component","PouchDB","possibleConstructorReturn_default","getPrototypeOf_default","inherits_default","_this$props","react_default","createElement","isRequired","Aside","className","href","url","text","Container","styles","Counter","bulkDocs","completed","onClick","esm_objectSpread","_deleted","type","$ne","Filter","path","title","NavLink","activeClassName","exact","replace","to","Footer","Counter_Counter","Input","post","autoFocus","onKeyDown","keyCode","target","trim","timestamp","Date","now","placeholder","Item","_ref$doc$completed","_useDB","put","remove","esm_slicedToArray","focus","setFocus","_useState3","_useState4","isEditing","setIsEditing","_useState5","_useState6","setTitle","inputRef","classNames","onDoubleClick","checked","onChange","ref","onBlur","filterByCompletedField","active","Docs","filter","match","params","$gte","List","Route","ToggleAll","Fragment","htmlFor","basename","homepage","App","fallback","BrowserRouter","Boolean","window","location","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","global","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default","lodash_identity__WEBPACK_IMPORTED_MODULE_4__","lodash_identity__WEBPACK_IMPORTED_MODULE_4___default","blobToUint8Array","blob","reader","FileReader","onload","Uint8Array","readAsArrayBuffer","__webpack_exports__","Buffer","_attachmentsAsUint8Arrays","_arr","_i","_arr$_i","data"],"mappings":"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","file":"static/js/main.463e5bc7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"learn-bar\":\"styles_learn-bar__2qN9S\"};","import { createContext } from 'react';\nvar context = createContext();\nexport default context;\nvar Consumer = context.Consumer,\n    Provider = context.Provider;\nexport { Consumer, Provider };","export default function getWithDefaultValue(key, getDefaultValue) {\n  var defaultValue;\n  return this.has(key) ? this.get(key) : (defaultValue = getDefaultValue(), this.set(key, defaultValue), defaultValue);\n}","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport PouchDB from \"pouchdb-browser\";\nimport stringify from 'fast-json-stable-stringify';\nimport get from './getWithDefaultValue';\nvar dbs = new Map();\nvar userCounts = new Map();\n\nvar withOptionsObject = function withOptionsObject(f) {\n  return function (options) {\n    return f(typeof options === 'string' ? {\n      name: options\n    } : options);\n  };\n};\n\nexport var create = withOptionsObject(function (_ref) {\n  var maxListeners = _ref.maxListeners,\n      options = _objectWithoutProperties(_ref, [\"maxListeners\"]);\n\n  var key = stringify(options);\n  var db = get.call(dbs, key, function () {\n    var db = new PouchDB(typeof options === 'string' ? options : // PouchDB constructor modifies the options object. Make a copy, so\n    // the original object remains untouched.\n    _objectSpread({}, options));\n\n    if (maxListeners) {\n      db.setMaxListeners(maxListeners);\n    }\n\n    return db;\n  });\n  var userCount = get.call(userCounts, key, function () {\n    return 0;\n  });\n  userCounts.set(key, userCount + 1);\n  return db;\n});\nexport var close = withOptionsObject(function (_ref2) {\n  var maxListeners = _ref2.maxListeners,\n      options = _objectWithoutProperties(_ref2, [\"maxListeners\"]);\n\n  var key = stringify(options);\n  var userCount = userCounts.get(key) - 1;\n  userCounts.set(key, userCount);\n\n  if (!userCount) {\n    dbs.get(key).close();\n    dbs.delete(key);\n  }\n});","import { useContext } from 'react';\nimport PouchDB from \"pouchdb-browser\";\nimport DBContext from './DBContext';\nimport { create } from './pouchdbConnections';\nexport default function useDB(db) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$callee = _ref.callee,\n      callee = _ref$callee === void 0 ? 'useDB' : _ref$callee,\n      _ref$example = _ref.example,\n      example = _ref$example === void 0 ? 'useDB(options)' : _ref$example;\n\n  if (db) {\n    if (db instanceof PouchDB) {\n      return db;\n    }\n\n    return create(db);\n  }\n\n  var dbContext = useContext(DBContext);\n\n  if (dbContext) {\n    return dbContext;\n  }\n\n  throw new Error(callee ? \"`\".concat(callee, \"` was called without `db` and database is not in context. Provide database using <PouchDB /> or `\").concat(example, \"`\") : 'Database is not in context. Provide database using <PouchDB />');\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { Children, cloneElement, createElement } from 'react';\nimport { func, element, oneOfType } from 'prop-types';\nimport lodashOmit from 'lodash/omit';\nimport useDB from './useDB';\nexport var propTypes = {\n  children: oneOfType([element, func]),\n  component: func,\n  render: func\n};\nvar propNames = Object.keys(propTypes);\nexport default (function (useDBOperation, error) {\n  return function (_ref) {\n    var db = _ref.db,\n        children = _ref.children,\n        component = _ref.component,\n        render = _ref.render,\n        otherProps = _objectWithoutProperties(_ref, [\"db\", \"children\", \"component\", \"render\"]);\n\n    var props = {\n      db: useDB(db, error)\n    };\n\n    try {\n      Object.assign(props, db ? useDBOperation(db, otherProps) : useDBOperation(otherProps));\n    } catch (error) {\n      if (component || render) {\n        throw error;\n      }\n    }\n\n    if (component) {\n      return createElement(component, props);\n    }\n\n    if (render) {\n      return render(props);\n    }\n\n    if (typeof children === 'function') {\n      return children.prototype.render ? createElement(children, props) : children(props);\n    }\n\n    if (children && Children.count(children)) {\n      return cloneElement(children, props);\n    }\n  };\n});\nexport var omit = function omit(props) {\n  return lodashOmit(props, propNames);\n};","import stringify from 'fast-json-stable-stringify';\nimport get from './getWithDefaultValue';\nexport var cache = new Map();\nvar EVENT = 'change';\nexport default function changesCache(options, handleChange) {\n  var _this = this;\n\n  var dbCache = get.call(cache, this, function () {\n    return new Map();\n  });\n  var key = stringify(options);\n  var listener = get.call(dbCache, key, function () {\n    return {\n      eventEmitter: _this.changes(options),\n      count: 0\n    };\n  });\n  var eventEmitter = listener.eventEmitter;\n  listener.count = listener.count + 1;\n  eventEmitter.on(EVENT, handleChange);\n  return function cancel() {\n    listener.count = listener.count - 1;\n\n    if (listener.count) {\n      eventEmitter.removeListener(EVENT, handleChange);\n    } else {\n      eventEmitter.cancel();\n      dbCache.delete(key);\n    }\n  };\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as react from 'react';\nexport var compose = function compose() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$useEffect = _ref.useEffect,\n      useEffect = _ref$useEffect === void 0 ? react.useEffect : _ref$useEffect,\n      _ref$useRef = _ref.useRef,\n      useRef = _ref$useRef === void 0 ? react.useRef : _ref$useRef,\n      _ref$useState = _ref.useState,\n      useState = _ref$useState === void 0 ? react.useState : _ref$useState;\n\n  return function useStateIfMounted() {\n    var isMountRef = useRef();\n\n    var _useState = useState.apply(void 0, arguments),\n        _useState2 = _slicedToArray(_useState, 2),\n        value = _useState2[0],\n        setValue = _useState2[1];\n\n    useEffect(function () {\n      isMountRef.current = true;\n      return function () {\n        isMountRef.current = false;\n      };\n    });\n    return [value, function (value) {\n      if (isMountRef.current) {\n        setValue(value);\n      }\n\n      return isMountRef.current;\n    }];\n  };\n};\nexport default compose();","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classPrivateFieldSet from \"@babel/runtime/helpers/classPrivateFieldSet\";\nimport _classPrivateFieldGet from \"@babel/runtime/helpers/classPrivateFieldGet\";\nimport { useEffect } from 'react';\nimport stringify from 'fast-json-stable-stringify';\nimport getWithDefaultValue from './getWithDefaultValue';\nimport useStateIfMounted from './useStateIfMounted';\nvar databaseRequests = new Map();\n\nvar Request =\n/*#__PURE__*/\nfunction () {\n  function Request(_ref) {\n    var _this = this;\n\n    var optionsKey = _ref.optionsKey,\n        requests = _ref.requests;\n\n    _classCallCheck(this, Request);\n\n    _listenerCount.set(this, {\n      writable: true,\n      value: 0\n    });\n\n    _defineProperty(this, \"removeRequestIfNoListeners\", function () {\n      if (!_classPrivateFieldGet(_this, _listenerCount)) {\n        _this.requests.delete(_this.optionsKey);\n      }\n    });\n\n    this.requests = requests;\n    this.optionsKey = optionsKey;\n  }\n\n  _createClass(Request, [{\n    key: \"resetCleanupTimer\",\n    value: function resetCleanupTimer() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(this.removeRequestIfNoListeners, 10000);\n    }\n  }, {\n    key: \"increaseListenerCount\",\n    value: function increaseListenerCount() {\n      _classPrivateFieldSet(this, _listenerCount, _classPrivateFieldGet(this, _listenerCount) + 1);\n    }\n  }, {\n    key: \"decreaseListenerCount\",\n    value: function decreaseListenerCount() {\n      _classPrivateFieldSet(this, _listenerCount, _classPrivateFieldGet(this, _listenerCount) - 1);\n\n      this.removeRequestIfNoListeners();\n    }\n  }]);\n\n  return Request;\n}();\n\nvar _listenerCount = new WeakMap();\n\nexport default function useListen(db, options, get, listener) {\n  var requests = getWithDefaultValue.call(databaseRequests, db, function () {\n    return new Map();\n  });\n  var optionsKey = stringify(options);\n  var request = getWithDefaultValue.call(requests, optionsKey, function () {\n    return new Request({\n      optionsKey: optionsKey,\n      requests: requests\n    });\n  });\n\n  if (!('value' in request)) {\n    request.value = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return get();\n\n            case 2:\n              request.value = _context.sent;\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  }\n\n  var value = request.value;\n\n  if (Promise.resolve(value) === value) {\n    request.resetCleanupTimer();\n    throw value;\n  }\n\n  var _useStateIfMounted = useStateIfMounted(),\n      _useStateIfMounted2 = _slicedToArray(_useStateIfMounted, 2),\n      _ = _useStateIfMounted2[0],\n      setState = _useStateIfMounted2[1];\n\n  useEffect(function () {\n    request.increaseListenerCount();\n    var cancel = listener(value, function (value) {\n      request.value = value;\n      setState(value);\n    });\n    return function () {\n      request.decreaseListenerCount();\n      cancel();\n    };\n  }, [db, optionsKey]);\n  return value;\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport attachmentsAsUint8Arrays from './attachmentsAsUint8Arrays';\nimport changesCache from './changesCache';\nimport useDB from './useDB';\nimport useListen from './useListen';\nvar UINT8ARRAY = 'u8a';\nvar ALLOWED_LIVE_OPTIONS = ['attachments', 'ajax', 'binary', 'id'];\n\nfunction nextState(_x, _x2) {\n  return _nextState.apply(this, arguments);\n}\n\nfunction _nextState() {\n  _nextState = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(binary, doc) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!(binary && doc)) {\n              _context4.next = 11;\n              break;\n            }\n\n            _context4.t1 = _objectSpread;\n            _context4.t2 = {};\n            _context4.t3 = doc;\n            _context4.next = 6;\n            return attachmentsAsUint8Arrays(doc._attachments);\n\n          case 6:\n            _context4.t4 = _context4.sent;\n            _context4.t5 = {\n              _attachments: _context4.t4\n            };\n            _context4.t0 = (0, _context4.t1)(_context4.t2, _context4.t3, _context4.t5);\n            _context4.next = 12;\n            break;\n\n          case 11:\n            _context4.t0 = doc;\n\n          case 12:\n            return _context4.abrupt(\"return\", _context4.t0);\n\n          case 13:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n  return _nextState.apply(this, arguments);\n}\n\nexport default function useGet(db) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : db;\n\n  if (arguments.length < 2) {\n    db = undefined;\n  }\n\n  db = useDB(db, {\n    callee: 'useGet',\n    example: 'useGet(db, options)'\n  });\n\n  var id = options.id,\n      attachments = options.attachments,\n      otherOptions = _objectWithoutProperties(options, [\"id\", \"attachments\"]);\n\n  var binary = attachments === UINT8ARRAY;\n\n  var optionsWithAttachmentAndBinaryOption = _objectSpread({\n    binary: binary\n  }, otherOptions, {\n    attachments: !!attachments\n  });\n\n  return useListen(db, options,\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var doc;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return db.get(id, _objectSpread({}, optionsWithAttachmentAndBinaryOption, {\n              local_seq: true\n            }));\n\n          case 3:\n            doc = _context.sent;\n            _context.next = 8;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 8:\n            return _context.abrupt(\"return\", nextState(binary, doc));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 6]]);\n  })), function (doc, setDoc) {\n    // Live?\n    if (Object.keys(options).every(function (option) {\n      return ALLOWED_LIVE_OPTIONS.includes(option);\n    })) {\n      var _context2;\n\n      return (_context2 = db, changesCache).call(_context2, _objectSpread({}, optionsWithAttachmentAndBinaryOption, {\n        live: true,\n        include_docs: true,\n        since: doc === null || doc === void 0 ? void 0 : doc._local_seq,\n        doc_ids: [id]\n      }),\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2(_ref2) {\n          var doc;\n          return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  doc = _ref2.doc;\n                  _context3.t0 = setDoc;\n                  _context3.next = 4;\n                  return nextState(binary, doc);\n\n                case 4:\n                  _context3.t1 = _context3.sent;\n                  return _context3.abrupt(\"return\", (0, _context3.t0)(_context3.t1));\n\n                case 6:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        return function (_x3) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    }\n  });\n}","import { flow } from 'lodash';\nimport renderProps from './renderProps';\nimport useGet from './useGet';\nexport default renderProps(flow([useGet, function (doc) {\n  return {\n    doc: doc\n  };\n}]), {\n  callee: '<Get />',\n  example: '<Get db={name|options} ... />'\n});","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport PouchDB from \"pouchdb-browser\";\nimport find from 'pouchdb-find';\nimport { collate } from 'pouchdb-collate';\nimport { matchesSelector } from 'pouchdb-selector-core';\nimport changesCache from './changesCache';\nimport useDB from './useDB';\nimport useListen from './useListen';\nPouchDB.plugin(find);\nexport default function useFind(db) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : db;\n\n  if (arguments.length < 2) {\n    db = undefined;\n  }\n\n  db = useDB(db, {\n    callee: 'useFind',\n    example: 'useFind(db, options)'\n  });\n  var selector = options.selector,\n      limit = options.limit,\n      skip = options.skip,\n      sort = options.sort;\n  return useListen(db, options,\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!sort) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return db.createIndex({\n              index: {\n                fields: sort.map(function (field) {\n                  return _typeof(field) === 'object' ? Object.keys(field)[0] : field;\n                })\n              }\n            });\n\n          case 3:\n            _context.next = 5;\n            return db.find(options);\n\n          case 5:\n            return _context.abrupt(\"return\", _context.sent.docs);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  })), function (docs, setDocs) {\n    var _context2;\n\n    setDocs(docs);\n\n    var mutableDocs = _toConsumableArray(docs); // To find deleted and other non-matching documents, listen all changes and use selector in 'change' event.\n\n\n    return (_context2 = db, changesCache).call(_context2, {\n      live: true,\n      include_docs: true,\n      since: 'now',\n      // Documents are kept in memory. 'complete' event can return an empty array.\n      return_docs: false\n    },\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(_ref2) {\n        var deleted, doc, index, found, length, _ref5, _ref5$docs, replacementDoc, sortOrders, sortedIndex, _ref7, _ref7$docs, lastDoc, _ref8, _ref8$docs, firstDoc;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                deleted = _ref2.deleted, doc = _ref2.doc;\n                index = mutableDocs.findIndex(function (_ref4) {\n                  var _id = _ref4._id;\n                  return doc._id === _id;\n                });\n                found = index !== -1; // Document was deleted or it does not match the selector?\n\n                if (!(deleted || selector && !matchesSelector(doc, selector))) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                if (!found) {\n                  _context3.next = 15;\n                  break;\n                } // Remove.\n\n\n                mutableDocs.splice(index, 1);\n                length = mutableDocs.length; // At the limit?\n\n                if (!(length + 1 === limit)) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                _context3.next = 10;\n                return db.find(_objectSpread({}, options, {\n                  limit: 1,\n                  skip: (options.skip || 0) + length\n                }));\n\n              case 10:\n                _ref5 = _context3.sent;\n                _ref5$docs = _slicedToArray(_ref5.docs, 1);\n                replacementDoc = _ref5$docs[0];\n\n                if (replacementDoc) {\n                  docs.push(replacementDoc);\n                }\n\n              case 14:\n                setDocs(mutableDocs);\n\n              case 15:\n                _context3.next = 36;\n                break;\n\n              case 17:\n                if (found) {\n                  // Update.\n                  mutableDocs[index] = doc;\n                } else {\n                  // Create.\n                  mutableDocs.push(doc);\n                }\n\n                if (sort) {\n                  sortOrders = sort.map(function (prop) {\n                    return _typeof(prop) === 'object' ? Object.entries(prop)[0] : // Default sort order is 'asc'\n                    [prop, 'asc'];\n                  });\n                  mutableDocs.sort(function (a, b) {\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                      for (var _iterator = sortOrders[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var _step$value = _slicedToArray(_step.value, 2),\n                            prop = _step$value[0],\n                            order = _step$value[1];\n\n                        var result = collate(a[prop], b[prop]);\n\n                        if (result !== 0) {\n                          return order === 'asc' ? result : -result;\n                        }\n                      }\n                    } catch (err) {\n                      _didIteratorError = true;\n                      _iteratorError = err;\n                    } finally {\n                      try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                          _iterator.return();\n                        }\n                      } finally {\n                        if (_didIteratorError) {\n                          throw _iteratorError;\n                        }\n                      }\n                    }\n\n                    return 0;\n                  });\n                }\n\n                sortedIndex = mutableDocs.findIndex(function (_ref6) {\n                  var _id = _ref6._id;\n                  return doc._id === _id;\n                }); // Document update, new place supposed to be last, `limit` option is set and limit was reached?\n\n                if (!(found && sortedIndex + 1 === limit)) {\n                  _context3.next = 27;\n                  break;\n                }\n\n                _context3.next = 23;\n                return db.find(_objectSpread({}, options, {\n                  limit: 1,\n                  skip: (options.skip || 0) + sortedIndex\n                }));\n\n              case 23:\n                _ref7 = _context3.sent;\n                _ref7$docs = _slicedToArray(_ref7.docs, 1);\n                lastDoc = _ref7$docs[0];\n\n                if ((lastDoc === null || lastDoc === void 0 ? void 0 : lastDoc._id) !== doc._id) {\n                  mutableDocs[sortedIndex] = lastDoc;\n                }\n\n              case 27:\n                if (!(skip && sortedIndex === 0)) {\n                  _context3.next = 34;\n                  break;\n                }\n\n                _context3.next = 30;\n                return db.find(_objectSpread({}, options, {\n                  limit: 1\n                }));\n\n              case 30:\n                _ref8 = _context3.sent;\n                _ref8$docs = _slicedToArray(_ref8.docs, 1);\n                firstDoc = _ref8$docs[0];\n\n                if ((firstDoc === null || firstDoc === void 0 ? void 0 : firstDoc._id) !== doc._id) {\n                  mutableDocs[0] = firstDoc;\n                }\n\n              case 34:\n                if (mutableDocs.length > limit) {\n                  mutableDocs.splice(limit);\n                }\n\n                setDocs(mutableDocs);\n\n              case 36:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  });\n}","import { flow } from 'lodash';\nimport renderProps from './renderProps';\nimport useFind from './useFind';\nexport default renderProps(flow([useFind, function (docs) {\n  return {\n    docs: docs\n  };\n}]), {\n  callee: '<Find />',\n  example: '<Find db={name|options} ... />'\n});","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React from \"react\";\nimport { Component } from 'react';\nimport { node, number, string } from 'prop-types';\nimport { create, close } from './pouchdbConnections';\nimport { Provider } from './DBContext';\n\nvar PouchDB =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PouchDB, _Component);\n\n  function PouchDB(props) {\n    var _this;\n\n    _classCallCheck(this, PouchDB);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PouchDB).call(this, props));\n\n    var children = props.children,\n        options = _objectWithoutProperties(props, [\"children\"]);\n\n    _this.db = create(options);\n    return _this;\n  }\n\n  _createClass(PouchDB, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          options = _objectWithoutProperties(_this$props, [\"children\"]);\n\n      close(options);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Provider, {\n        value: this.db\n      }, this.props.children);\n    }\n  }]);\n\n  return PouchDB;\n}(Component);\n\n_defineProperty(PouchDB, \"propTypes\", {\n  children: node,\n  maxListeners: number,\n  name: string.isRequired\n});\n\n_defineProperty(PouchDB, \"defaultProps\", {\n  children: null,\n  maxListeners: undefined\n});\n\nexport { PouchDB as default };","export default () => (\n  <aside className=\"learn\">\n    <header>\n      <h3>react-pouchdb</h3>\n      <h5>Example</h5>\n      <a href=\"https://github.com/ArnoSaine/react-pouchdb/tree/master/todoapp\">\n        Source\n      </a>\n    </header>\n    <hr />\n    <h4>Official Resources</h4>\n    <ul>\n      {[\n        {\n          url: 'https://github.com/ArnoSaine/react-pouchdb',\n          text: 'react-pouchdb'\n        },\n        {\n          url: 'https://pouchdb.com',\n          text: 'PouchDB'\n        },\n        {\n          url: 'http://couchdb.apache.org',\n          text: 'CouchDB'\n        }\n      ].map(({ text, url }) => (\n        <li key={url}>\n          <a href={url}>{text}</a>\n        </li>\n      ))}\n    </ul>\n  </aside>\n);\n","import Aside from './Aside';\nimport styles from './styles.module.css';\n\nexport default ({ children }) => (\n  <div className={`learn-bar ${styles['learn-bar']}`}>\n    <Aside />\n    {children}\n  </div>\n);\n","import { useDB, useFind } from 'react-pouchdb/browser';\n\nexport default function Counter() {\n  const { bulkDocs } = useDB();\n  const docs = useFind({\n    selector: {\n      completed: true\n    }\n  });\n  const { length } = docs;\n  return length ? (\n    <button\n      className=\"clear-completed\"\n      onClick={() => bulkDocs(docs.map(doc => ({ ...doc, _deleted: true })))}\n      type=\"button\"\n    >\n      Clear completed ({length})\n    </button>\n  ) : null;\n}\n","import { useFind } from 'react-pouchdb/browser';\n\nexport default function Counter() {\n  const docs = useFind({\n    selector: {\n      completed: { $ne: true }\n    }\n  });\n  const { length } = docs;\n  return (\n    <span className=\"todo-count\">\n      {length} {length === 1 ? 'item' : 'items'} left\n    </span>\n  );\n}\n","import { NavLink } from 'react-router-dom';\n\nexport default () => (\n  <ul className=\"filters\">\n    {[\n      { path: '', title: 'All' },\n      { path: 'active', title: 'Active' },\n      { path: 'completed', title: 'Completed' }\n    ].map(({ path, title }) => (\n      <li key={path}>\n        <NavLink activeClassName=\"selected\" exact replace to={`/${path}`}>\n          {title}\n        </NavLink>\n      </li>\n    ))}\n  </ul>\n);\n","import ClearCompleted from './ClearCompleted';\nimport Counter from './Counter';\nimport Filter from './Filter';\n\nexport default () => (\n  <footer className=\"footer\">\n    <Counter />\n    <Filter />\n    <ClearCompleted />\n  </footer>\n);\n","import { useDB } from 'react-pouchdb/browser';\n\nexport default function Input() {\n  const { post } = useDB();\n  return (\n    <input\n      autoFocus\n      className=\"new-todo\"\n      onKeyDown={({ keyCode, target }) => {\n        const title = target.value.trim();\n        if (keyCode === 13 && title) {\n          post({ title, timestamp: Date.now() });\n          target.value = '';\n        }\n      }}\n      placeholder=\"What needs to be done?\"\n      type=\"text\"\n    />\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { useDB } from 'react-pouchdb/browser';\n\nexport default function Item({ doc, doc: { completed = false } }) {\n  const { put, remove } = useDB();\n  const [focus, setFocus] = useState();\n  const [isEditing, setIsEditing] = useState();\n  const [title, setTitle] = useState(doc.title);\n  const inputRef = useRef();\n  useEffect(() => {\n    if (focus) {\n      inputRef.current.focus();\n      setFocus(false);\n    }\n  });\n\n  return (\n    <li\n      className={classNames(completed && 'completed', isEditing && 'editing')}\n      onDoubleClick={() => {\n        setFocus(true);\n        setIsEditing(true);\n      }}\n    >\n      <div className=\"view\">\n        <input\n          className=\"toggle\"\n          checked={completed}\n          onChange={() =>\n            put({\n              ...doc,\n              completed: !completed\n            })\n          }\n          type=\"checkbox\"\n        />\n        <label>{title}</label>\n        <button className=\"destroy\" onClick={() => remove(doc)} type=\"button\" />\n      </div>\n      <input\n        className=\"edit\"\n        ref={inputRef}\n        type=\"text\"\n        value={title}\n        onChange={({ target: { value } }) => setTitle(value)}\n        onBlur={() => {\n          setIsEditing(false);\n          put({\n            ...doc,\n            title\n          });\n        }}\n      />\n    </li>\n  );\n}\n","import { useFind } from 'react-pouchdb/browser';\nimport Item from './Item';\n\nconst filterByCompletedField = {\n  active: { $ne: true },\n  completed: true\n};\n\nexport default function Docs({\n  match: {\n    params: { filter }\n  }\n}) {\n  const docs = useFind({\n    selector: {\n      timestamp: { $gte: null },\n      completed: filterByCompletedField[filter]\n    }\n  });\n  return (\n    <ul className=\"todo-list\">\n      {docs.map(doc => (\n        <Item key={doc._id} doc={doc} />\n      ))}\n    </ul>\n  );\n}\n","import { Route } from 'react-router-dom';\nimport Docs from './Docs';\n\nexport default () => <Route path=\"/:filter?\" component={Docs} />;\n","import { useDB, useFind } from 'react-pouchdb/browser';\n\nexport default function ToggleAll() {\n  const docs = useFind({\n    selector: {\n      timestamp: { $gte: null }\n    }\n  });\n  const { bulkDocs } = useDB();\n  return docs.length\n    ? (() => {\n        const completed = docs.every(({ completed }) => completed);\n        return (\n          <>\n            <input\n              id=\"toggle-all\"\n              className=\"toggle-all\"\n              checked={completed}\n              onChange={() =>\n                bulkDocs(docs.map(doc => ({ ...doc, completed: !completed })))\n              }\n              type=\"checkbox\"\n            />\n            <label htmlFor=\"toggle-all\" />\n          </>\n        );\n      })()\n    : null;\n}\n","import { Suspense } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PouchDB } from 'react-pouchdb/browser';\nimport Container from './Container';\nimport Footer from './Footer';\nimport Input from './Input';\nimport List from './List';\nimport ToggleAll from './ToggleAll';\nimport { homepage } from '../package.json';\n\nconst basename = process.env.NODE_ENV === 'development' ? undefined : homepage;\n\nfunction App() {\n  return (\n    <Suspense fallback=\"loading...\">\n      <Container>\n        <PouchDB name=\"todoapp\">\n          <BrowserRouter basename={basename}>\n            <section className=\"todoapp\">\n              <header>\n                <h1>todos</h1>\n              </header>\n              <Input />\n              <section className=\"main\">\n                <ToggleAll />\n                <List />\n                <Footer />\n              </section>\n            </section>\n          </BrowserRouter>\n        </PouchDB>\n      </Container>\n    </Suspense>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactDOM from 'react-dom';\nimport 'todomvc-app-css/index.css';\nimport 'todomvc-common/base.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport identity from 'lodash/identity';\n\nvar blobToUint8Array = function blobToUint8Array(blob) {\n  return new Promise(function (resolve) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(new Uint8Array(reader.result));\n    };\n\n    reader.readAsArrayBuffer(blob);\n  });\n};\n\nexport default (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === 'object' && global.Buffer ? identity :\n/*#__PURE__*/\nfunction () {\n  var _attachmentsAsUint8Arrays = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(attachments) {\n    var result, _arr, _i, _arr$_i, name, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            result = {};\n            _arr = Object.entries(attachments);\n            _i = 0;\n\n          case 3:\n            if (!(_i < _arr.length)) {\n              _context.next = 11;\n              break;\n            }\n\n            _arr$_i = _slicedToArray(_arr[_i], 2), name = _arr$_i[0], data = _arr$_i[1].data;\n            _context.next = 7;\n            return blobToUint8Array(data);\n\n          case 7:\n            result[name] = _context.sent;\n\n          case 8:\n            _i++;\n            _context.next = 3;\n            break;\n\n          case 11:\n            return _context.abrupt(\"return\", result);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function attachmentsAsUint8Arrays(_x) {\n    return _attachmentsAsUint8Arrays.apply(this, arguments);\n  };\n}();"],"sourceRoot":""}